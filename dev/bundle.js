!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){t.markdown=n(7),t.parse=t.markdown.toHTML},function(e,t,n){"use strict";n.r(t);n(10),n(8);var r=n(0),i=function(e,t,n){return function(i){var o=e.getElementById(t).value;throw e.getElementById(n).innerHTML=r.markdown.toHTML(o),i.preventDefault(),"aaaaaaa"}};window.onload=function(){document.getElementById("editor").addEventListener("submit",i(document,"source","preview"))}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var a,c=[],u=!1,f=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):f=-1,c.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,l=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])d(a)||!_(a)?l+=" "+a:l+=" "+s(a);return l},t.deprecate=function(n,i){if(y(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,l={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),u(r,e,r.depth)}function a(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(e,n);if(o)return o;var l=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(l);if(e.showHidden&&(l=Object.getOwnPropertyNames(n)),w(n)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return f(n);if(0===l.length){if(x(n)){var a=n.name?": "+n.name:"";return e.stylize("[Function"+a+"]","special")}if(m(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var c,_="",j=!1,S=["{","}"];(p(n)&&(j=!0,S=["[","]"]),x(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(_=" "+RegExp.prototype.toString.call(n)),k(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+f(n)),0!==l.length||j&&0!=n.length?r<0?m(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=j?function(e,t,n,r,i){for(var o=[],l=0,s=t.length;l<s;++l)E(t,String(l))?o.push(h(e,t,n,r,String(l),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}(e,n,r,s,l):l.map(function(t){return h(e,n,r,s,t,j)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,S)):S[0]+_+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var l,s,a;if((a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(s=e.stylize("[Setter]","special")),E(r,i)||(l="["+i+"]"),s||(e.seen.indexOf(a.value)<0?(s=d(n)?u(e,a.value,null):u(e,a.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(l)){if(o&&i.match(/^\d+$/))return s;(l=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=e.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=e.stylize(l,"string"))}return l+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function d(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function m(e){return _(e)&&"[object RegExp]"===j(e)}function _(e){return"object"==typeof e&&null!==e}function k(e){return _(e)&&"[object Date]"===j(e)}function w(e){return _(e)&&("[object Error]"===j(e)||e instanceof Error)}function x(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!l[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;l[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else l[e]=function(){};return l[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=m,t.isObject=_,t.isDate=k,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(3);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(2),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(5),n(4))},function(e,t,n){!function(e){var t=e.Markdown=function(e){switch(typeof e){case"undefined":this.dialect=t.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in t.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=t.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};function r(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function i(){var e=n(6);return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}e.parse=function(e,n){return new t(n).toTree(e)},e.toHTML=function(t,n,r){var i=e.toHTMLTree(t,n,r);return e.renderJsonML(i)},e.toHTMLTree=function(e,t,n){"string"==typeof e&&(e=this.parse(e,t));var r=h(e),i={};r&&r.references&&(i=r.references);var o=function e(t,n,r){var i;r=r||{};var o=t.slice(0);"function"==typeof r.preprocessTreeNode&&(o=r.preprocessTreeNode(o,n));var l=h(o);if(l){for(i in o[1]={},l)o[1][i]=l[i];l=o[1]}if("string"==typeof o)return o;switch(o[0]){case"header":o[0]="h"+o[1].level,delete o[1].level;break;case"bulletlist":o[0]="ul";break;case"numberlist":o[0]="ol";break;case"listitem":o[0]="li";break;case"para":o[0]="p";break;case"markdown":o[0]="html",l&&delete l.references;break;case"code_block":o[0]="pre",i=l?2:1;var s=["code"];s.push.apply(s,o.splice(i,o.length-i)),o[i]=s;break;case"inlinecode":o[0]="code";break;case"img":o[1].src=o[1].href,delete o[1].href;break;case"linebreak":o[0]="br";break;case"link":o[0]="a";break;case"link_ref":o[0]="a";var a=n[l.ref];if(!a)return l.original;delete l.ref,l.href=a.href,a.title&&(l.title=a.title),delete l.original;break;case"img_ref":o[0]="img";var a=n[l.ref];if(!a)return l.original;delete l.ref,l.src=a.href,a.title&&(l.title=a.title),delete l.original}i=1;if(l){for(var c in o[1]){i=2;break}1===i&&o.splice(i,1)}for(;i<o.length;++i)o[i]=e(o[i],n,r);return o}(e,i,n);return function e(t){var n=h(t)?2:1;for(;n<t.length;)"string"==typeof t[n]?n+1<t.length&&"string"==typeof t[n+1]?t[n]+=t.splice(n+1,1)[0]:++n:(e(t[n]),++n)}(o),o};var o=t.mk_block=function(e,t,n){1==arguments.length&&(t="\n\n");var o=new String(e);return o.trailing=t,o.inspect=i,o.toSource=r,void 0!=n&&(o.lineNumber=n),o};function l(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\n",n+1));)t++;return t}function s(e,t){var n=e+"_state",r="strong"==e?"em_state":"strong_state";function i(e){this.len_after=e,this.name="close_"+t}return function(o,l){if(this[n][0]==t)return this[n].shift(),[o.length,new i(o.length-t.length)];var s=this[r].slice(),a=this[n].slice();this[n].unshift(t);var c=this.processInline(o.substr(t.length)),u=c[c.length-1];this[n].shift();return u instanceof i?(c.pop(),[o.length-u.len_after,[e].concat(c)]):(this[r]=s,this[n]=a,[t.length,t])}}t.prototype.split_blocks=function(e,t){e=e.replace(/(\r\n|\n|\r)/g,"\n");var n,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,i=[],s=1;for(null!=(n=/^(\s*\n)/.exec(e))&&(s+=l(n[0]),r.lastIndex=n[0].length);null!==(n=r.exec(e));)"\n#"==n[2]&&(n[2]="\n",r.lastIndex--),i.push(o(n[1],n[2],s)),s+=l(n[0]);return i},t.prototype.processBlock=function(e,t){var n=this.dialect.block,r=n.__order__;if("__call__"in n)return n.__call__.call(this,e,t);for(var i=0;i<r.length;i++){var o=n[r[i]].call(this,e,t);if(o)return(!u(o)||o.length>0&&!u(o[0]))&&this.debug(r[i],"didn't return a proper array"),o}return[]},t.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},t.prototype.toTree=function(e,t){var n=e instanceof Array?e:this.split_blocks(e),r=this.tree;try{for(this.tree=t||this.tree||["markdown"];n.length;){var i=this.processBlock(n.shift(),n);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{t&&(this.tree=r)}},t.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,e)},t.prototype.loop_re_over_block=function(e,t,n){for(var r,i=t.valueOf();i.length&&null!=(r=e.exec(i));)i=i.substr(r[0].length),n.call(this,r);return i},t.dialects={},t.dialects.Gruber={block:{atxHeader:function(e,t){var n=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(n){var r=["header",{level:n[1].length}];return Array.prototype.push.apply(r,this.processInline(n[2])),n[0].length<e.length&&t.unshift(o(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]}},setextHeader:function(e,t){var n=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(n){var r=["header",{level:"="===n[2]?1:2},n[1]];return n[0].length<e.length&&t.unshift(o(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]}},code:function(e,t){var n=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(r)){e:for(;;){var i=this.loop_re_over_block(r,e.valueOf(),function(e){n.push(e[1])});if(i.length){t.unshift(o(i,e.trailing));break e}if(!t.length)break e;if(!t[0].match(r))break e;n.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",n.join("\n")]]}},horizRule:function(e,t){var n=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(n){var r=[["hr"]];return n[1]&&r.unshift.apply(r,this.processBlock(n[1],[])),n[3]&&t.unshift(o(n[3])),r}},lists:function(){var e="[*+-]|\\d+\\.",t=/[*+-]/,n=new RegExp("^( {0,3})("+e+")[ \t]+"),r="(?: {0,3}\\t| {4})";function i(t){return new RegExp("(?:^("+r+"{0,"+t+"} {0,3})("+e+")\\s+)|(^"+r+"{0,"+(t-1)+"}[ ]{0,4})")}function l(e){return e.replace(/ {0,3}\t/g,"    ")}function s(e,t,n,r){if(t)e.push(["para"].concat(n));else{var i=e[e.length-1]instanceof Array&&"para"==e[e.length-1][0]?e[e.length-1]:e;r&&e.length>1&&n.unshift(r);for(var o=0;o<n.length;o++){var l=n[o];"string"==typeof l&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=l:i.push(l)}}}function a(e,t){for(var n=new RegExp("^("+r+"{"+e+"}.*?\\n?)*$"),i=new RegExp("^"+r+"{"+e+"}","gm"),l=[];t.length>0&&n.exec(t[0]);){var s=t.shift(),a=s.replace(i,"");l.push(o(a,s.trailing,s.lineNumber))}return l}function u(e,t,n){var r=e.list,i=r[r.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(t+1==n.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var o=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),o)}}return function(e,r){var o=e.match(n);if(o){for(var f,h,p=[],g=M(o),d=!1,v=[p[0].list];;){for(var b=e.split(/(?=\n)/),y="",m=0;m<b.length;m++){var _="",k=b[m].replace(/^\n/,function(e){return _=e,""}),w=i(p.length);if(void 0!==(o=k.match(w))[1]){y.length&&(s(f,d,this.processInline(y),_),d=!1,y=""),o[1]=l(o[1]);var x=Math.floor(o[1].length/4)+1;if(x>p.length)g=M(o),f.push(g),f=g[1]=["listitem"];else{var j=!1;for(h=0;h<p.length;h++)if(p[h].indent==o[1]){g=p[h].list,p.splice(h+1,p.length-(h+1)),j=!0;break}j||(++x<=p.length?(p.splice(x,p.length-x),g=p[x-1].list):(g=M(o),f.push(g))),f=["listitem"],g.push(f)}_=""}k.length>o[0].length&&(y+=_+k.substr(o[0].length))}y.length&&(s(f,d,this.processInline(y),_),d=!1,y="");var S=a(p.length,r);S.length>0&&(c(p,u,this),f.push.apply(f,this.toTree(S,[])));var O=r[0]&&r[0].valueOf()||"";if(!O.match(n)&&!O.match(/^ /))break;e=r.shift();var E=this.dialect.block.horizRule(e,r);if(E){v.push.apply(v,E);break}c(p,u,this),d=!0}return v}function M(e){var n=t.exec(e[2])?["bulletlist"]:["numberlist"];return p.push({list:n,indent:e[1]}),n}}}(),blockquote:function(e,t){if(e.match(/^>/m)){var n=[];if(">"!=e[0]){for(var r=e.split(/\n/),i=[],l=e.lineNumber;r.length&&">"!=r[0][0];)i.push(r.shift()),l++;var s=o(i.join("\n"),"\n",e.lineNumber);n.push.apply(n,this.processBlock(s,[])),e=o(r.join("\n"),e.trailing,l)}for(;t.length&&">"==t[0][0];){var a=t.shift();e=o(e+e.trailing+a,a.trailing,e.lineNumber)}var c=e.replace(/^> ?/gm,""),u=(this.tree,this.toTree(c,["blockquote"])),p=h(u);return p&&p.references&&(delete p.references,f(p)&&u.splice(1,1)),n.push(u),n}},referenceDefn:function(e,t){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(e.match(n)){h(this.tree)||this.tree.splice(1,0,{});var r=h(this.tree);void 0===r.references&&(r.references={});var i=this.loop_re_over_block(n,e,function(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=r.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])});return i.length&&t.unshift(o(i,e.trailing)),[]}},para:function(e,t){return[["para"].concat(this.processInline(e))]}}},t.dialects.Gruber.inline={__oneElement__:function(e,t,n){var r,i;return t=t||this.dialect.inline.__patterns__,(r=new RegExp("([\\s\\S]*?)("+(t.source||t)+")").exec(e))?r[1]?[r[1].length,r[1]]:(r[2]in this.dialect.inline&&(i=this.dialect.inline[r[2]].call(this,e.substr(r.index),r,n||[])),i=i||[r[2].length,r[2]]):[e.length,e]},__call__:function(e,t){var n,r=[];function i(e){"string"==typeof e&&"string"==typeof r[r.length-1]?r[r.length-1]+=e:r.push(e)}for(;e.length>0;)n=this.dialect.inline.__oneElement__.call(this,e,t,r),e=e.substr(n.shift()),c(n,i);return r},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var n={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(n.title=t[4]),[t[0].length,["img",n]]}return(t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function(e){var n=String(e),r=t.DialectHelpers.inline_until_char.call(this,e.substr(1),"]");if(!r)return[1,"["];var i,o,l=1+r[0],s=r[1],a=(e=e.substr(l)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var c=a[1];if(l+=a[0].length,c&&"<"==c[0]&&">"==c[c.length-1]&&(c=c.substring(1,c.length-1)),!a[3])for(var u=1,f=0;f<c.length;f++)switch(c[f]){case"(":u++;break;case")":0==--u&&(l-=c.length-f,c=c.substring(0,f))}return o={href:(c=this.dialect.inline.__call__.call(this,c,/\\/)[0])||""},void 0!==a[3]&&(o.title=a[3]),i=["link",o].concat(s),[l,i]}return(a=e.match(/^\s*\[(.*?)\]/))?(l+=a[0].length,i=["link_ref",o={ref:(a[1]||String(s)).toLowerCase(),original:n.substr(0,l)}].concat(s),[l,i]):1==s.length&&"string"==typeof s[0]?(i=["link_ref",o={ref:s[0].toLowerCase(),original:n.substr(0,l)},s[0]],[l,i]):[1,"["]},"<":function(e){var t;return null!=(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"==t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(e){return[3,["linebreak"]]}},t.dialects.Gruber.inline["**"]=s("strong","**"),t.dialects.Gruber.inline.__=s("strong","__"),t.dialects.Gruber.inline["*"]=s("em","*"),t.dialects.Gruber.inline._=s("em","_"),t.buildBlockOrder=function(e){var t=[];for(var n in e)"__order__"!=n&&"__call__"!=n&&t.push(n);e.__order__=t},t.buildInlinePatterns=function(e){var t=[];for(var n in e)if(!n.match(/^__.*__$/)){var r=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1==n.length?r:"(?:"+r+")")}t=t.join("|"),e.__patterns__=t;var i=e.__call__;e.__call__=function(e,n){return void 0!=n?i.call(this,e,n):i.call(this,e,t)}},t.DialectHelpers={},t.DialectHelpers.inline_until_char=function(e,t){for(var n=0,r=[];;){if(e.charAt(n)==t)return[++n,r];if(n>=e.length)return null;var i=this.dialect.inline.__oneElement__.call(this,e.substr(n));n+=i[0],r.push.apply(r,i.slice(1))}},t.subclassDialect=function(e){function t(){}function n(){}return t.prototype=e.block,n.prototype=e.inline,{block:new t,inline:new n}},t.buildBlockOrder(t.dialects.Gruber.block),t.buildInlinePatterns(t.dialects.Gruber.inline),t.dialects.Maruku=t.subclassDialect(t.dialects.Gruber),t.dialects.Maruku.processMetaHash=function(e){for(var t=function(e){var t=e.split(""),n=[""],r=!1;for(;t.length;){var i=t.shift();switch(i){case" ":r?n[n.length-1]+=i:n.push("");break;case"'":case'"':r=!r;break;case"\\":i=t.shift();default:n[n.length-1]+=i}}return n}(e),n={},r=0;r<t.length;++r)if(/^#/.test(t[r]))n.id=t[r].substring(1);else if(/^\./.test(t[r]))n.class?n.class=n.class+t[r].replace(/./," "):n.class=t[r].substring(1);else if(/\=/.test(t[r])){var i=t[r].split(/\=/);n[i[0]]=i[1]}return n},t.dialects.Maruku.block.document_meta=function(e,t){if(!(e.lineNumber>1)&&e.match(/^(?:\w+:.*\n)*\w+:.*$/)){h(this.tree)||this.tree.splice(1,0,{});var n=e.split(/\n/);for(p in n){var r=n[p].match(/(\w+):\s*(.*)$/),i=r[1].toLowerCase(),o=r[2];this.tree[1][i]=o}return[]}},t.dialects.Maruku.block.block_meta=function(e,t){var n=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(n){var r,i=this.dialect.processMetaHash(n[2]);if(""===n[1]){var o=this.tree[this.tree.length-1];if(r=h(o),"string"==typeof o)return;for(a in r||(r={},o.splice(1,0,r)),i)r[a]=i[a];return[]}var l=e.replace(/\n.*$/,""),s=this.processBlock(l,[]);for(a in(r=h(s[0]))||(r={},s[0].splice(1,0,r)),i)r[a]=i[a];return s}},t.dialects.Maruku.block.definition_list=function(e,t){var n,r=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,i=["dl"];if(s=e.match(r)){for(var o=[e];t.length&&r.exec(t[0]);)o.push(t.shift());for(var l=0;l<o.length;++l){var s,a=(s=o[l].match(r))[1].replace(/\n$/,"").split(/\n/),c=s[2].split(/\n:\s+/);for(n=0;n<a.length;++n)i.push(["dt",a[n]]);for(n=0;n<c.length;++n)i.push(["dd"].concat(this.processInline(c[n].replace(/(\n)\s+/,"$1"))))}return[i]}},t.dialects.Maruku.block.table=function(e,t){var n,r,i=function(e,t){(t=t||"\\s").match(/^[\\|\[\]{}?*.+^$]$/)&&(t="\\"+t);for(var n,r=[],i=new RegExp("^((?:\\\\.|[^\\\\"+t+"])*)"+t+"(.*)");n=e.match(i);)r.push(n[1]),e=n[2];return r.push(e),r};if(r=e.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=e.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/)))return;var o=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var l=[];for(c(r[2],function(e){e.match(/^\s*-+:\s*$/)?l.push({align:"right"}):e.match(/^\s*:-+\s*$/)?l.push({align:"left"}):e.match(/^\s*:-+:\s*$/)?l.push({align:"center"}):l.push({})}),r[1]=i(r[1].replace(/\|\s*$/,""),"|"),n=0;n<r[1].length;n++)o[1][1].push(["th",l[n]||{}].concat(this.processInline(r[1][n].trim())));return c(r[3].replace(/\|\s*$/gm,"").split("\n"),function(e){var t=["tr"];for(e=i(e,"|"),n=0;n<e.length;n++)t.push(["td",l[n]||{}].concat(this.processInline(e[n].trim())));o[2].push(t)},this),[o]},t.dialects.Maruku.inline["{:"]=function(e,t,n){if(!n.length)return[2,"{:"];var r=n[n.length-1];if("string"==typeof r)return[2,"{:"];var i=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var o=this.dialect.processMetaHash(i[1]),l=h(r);for(var s in l||(l={},r.splice(1,0,l)),o)l[s]=o[s];return[i[0].length,""]},t.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,t.buildBlockOrder(t.dialects.Maruku.block),t.buildInlinePatterns(t.dialects.Maruku.inline);var c,u=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};c=Array.prototype.forEach?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var r=0;r<e.length;r++)t.call(n||e,e[r],r,e)};var f=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0};function h(e){return u(e)&&e.length>1&&"object"==typeof e[1]&&!u(e[1])?e[1]:void 0}function g(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(e){if("string"==typeof e)return g(e);var t=e.shift(),n={},r=[];for(!e.length||"object"!=typeof e[0]||e[0]instanceof Array||(n=e.shift());e.length;)r.push(d(e.shift()));var i="";for(var o in n)i+=" "+o+'="'+g(n[o])+'"';return"img"==t||"br"==t||"hr"==t?"<"+t+i+"/>":"<"+t+i+">"+r.join("")+"</"+t+">"}e.renderJsonML=function(e,t){(t=t||{}).root=t.root||!1;var n=[];if(t.root)n.push(d(e));else for(e.shift(),!e.length||"object"!=typeof e[0]||e[0]instanceof Array||e.shift();e.length;)n.push(d(e.shift()));return n.join("\n\n")}}(t)},function(e,t){},,function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21hcmtkb3duL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tYXJrZG93blByZXZpZXdlci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFya2Rvd24vbGliL21hcmtkb3duLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibWFya2Rvd24iLCJwYXJzZSIsInRvSFRNTCIsIm1hcmtkb3duUHJldmlld2VyIiwiJGRvY3VtZW50Iiwic291cmNlSWQiLCJwcmV2aWV3SWQiLCJldmVudCIsInRleHQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImxpYiIsInByZXZlbnREZWZhdWx0Iiwid2luZG93Iiwib25sb2FkIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciIsImFyZyIsImNvcHkiLCJmaWxsIiwicmVhZFVJbnQ4IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJlIiwidGhpcyIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwibGVuZ3RoIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJwdXNoIiwiYXBwbHkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZ2xvYmFsIiwiZm9ybWF0UmVnRXhwIiwiZm9ybWF0IiwiZiIsImlzU3RyaW5nIiwib2JqZWN0cyIsImluc3BlY3QiLCJqb2luIiwic3RyIiwiU3RyaW5nIiwicmVwbGFjZSIsIngiLCJOdW1iZXIiLCJKU09OIiwic3RyaW5naWZ5IiwiXyIsImlzTnVsbCIsImlzT2JqZWN0IiwiZGVwcmVjYXRlIiwiZm4iLCJtc2ciLCJpc1VuZGVmaW5lZCIsIm5vRGVwcmVjYXRpb24iLCJ3YXJuZWQiLCJ0aHJvd0RlcHJlY2F0aW9uIiwidHJhY2VEZXByZWNhdGlvbiIsImNvbnNvbGUiLCJ0cmFjZSIsImVycm9yIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwib2JqIiwib3B0cyIsImN0eCIsInNlZW4iLCJzdHlsaXplIiwic3R5bGl6ZU5vQ29sb3IiLCJkZXB0aCIsImNvbG9ycyIsImlzQm9vbGVhbiIsInNob3dIaWRkZW4iLCJfZXh0ZW5kIiwiY3VzdG9tSW5zcGVjdCIsInN0eWxpemVXaXRoQ29sb3IiLCJmb3JtYXRWYWx1ZSIsInN0eWxlVHlwZSIsInN0eWxlIiwic3R5bGVzIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsInJldCIsInByaW1pdGl2ZSIsInNpbXBsZSIsImlzTnVtYmVyIiwiZm9ybWF0UHJpbWl0aXZlIiwia2V5cyIsInZpc2libGVLZXlzIiwiaGFzaCIsImZvckVhY2giLCJ2YWwiLCJpZHgiLCJhcnJheVRvSGFzaCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiaW5kZXhPZiIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzRGF0ZSIsIkRhdGUiLCJvdXRwdXQiLCJiYXNlIiwiYnJhY2VzIiwiaXNBcnJheSIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJtYXRjaCIsImZvcm1hdEFycmF5IiwibWFwIiwicG9wIiwicmVkdWNlIiwicHJldiIsImN1ciIsIm51bUxpbmVzRXN0IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic2V0Iiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwiYXIiLCJyZSIsIm9iamVjdFRvU3RyaW5nIiwicGFkIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJ0ZXN0IiwicGlkIiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImludmVyc2UiLCJ3aGl0ZSIsImdyZXkiLCJibGFjayIsImJsdWUiLCJjeWFuIiwiZ3JlZW4iLCJtYWdlbnRhIiwicmVkIiwieWVsbG93Iiwic3BlY2lhbCIsIm51bWJlciIsImJvb2xlYW4iLCJ1bmRlZmluZWQiLCJudWxsIiwic3RyaW5nIiwiZGF0ZSIsInJlZ2V4cCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNTeW1ib2wiLCJpc1ByaW1pdGl2ZSIsImlzQnVmZmVyIiwibW9udGhzIiwicHJvcCIsImxvZyIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwidGltZXN0YW1wIiwiaW5oZXJpdHMiLCJvcmlnaW4iLCJhZGQiLCJleHBvc2UiLCJNYXJrZG93biIsImRpYWxlY3QiLCJkaWFsZWN0cyIsIkdydWJlciIsImVtX3N0YXRlIiwic3Ryb25nX3N0YXRlIiwiZGVidWdfaW5kZW50IiwibWtfYmxvY2tfdG9Tb3VyY2UiLCJ1bmV2YWwiLCJ0cmFpbGluZyIsImxpbmVOdW1iZXIiLCJta19ibG9ja19pbnNwZWN0IiwidXRpbCIsInNvdXJjZSIsInRvVHJlZSIsIm9wdGlvbnMiLCJpbnB1dCIsInRvSFRNTFRyZWUiLCJyZW5kZXJKc29uTUwiLCJhdHRycyIsImV4dHJhY3RfYXR0ciIsInJlZnMiLCJyZWZlcmVuY2VzIiwiaHRtbCIsImNvbnZlcnRfdHJlZV90b19odG1sIiwidHJlZSIsImpzb25tbCIsInNsaWNlIiwicHJlcHJvY2Vzc1RyZWVOb2RlIiwibGV2ZWwiLCJjb2RlIiwic3BsaWNlIiwic3JjIiwiaHJlZiIsInJlZiIsIm9yaWdpbmFsIiwibWVyZ2VfdGV4dF9ub2RlcyIsIm1rX2Jsb2NrIiwiYmxvY2siLCJ0cmFpbCIsInRvU291cmNlIiwiY291bnRfbGluZXMiLCJzdHJvbmdfZW0iLCJ0YWciLCJtZCIsInN0YXRlX3Nsb3QiLCJvdGhlcl9zbG90IiwiQ2xvc2VUYWciLCJsZW5fYWZ0ZXIiLCJvcmlnX21hdGNoIiwic2hpZnQiLCJvdGhlciIsInN0YXRlIiwidW5zaGlmdCIsInJlcyIsInByb2Nlc3NJbmxpbmUiLCJsYXN0Iiwic3BsaXRfYmxvY2tzIiwic3RhcnRMaW5lIiwiYmxvY2tzIiwibGluZV9ubyIsImV4ZWMiLCJsYXN0SW5kZXgiLCJwcm9jZXNzQmxvY2siLCJuZXh0IiwiY2JzIiwib3JkIiwiX19vcmRlcl9fIiwiX19jYWxsX18iLCJkZWJ1ZyIsImlubGluZSIsImN1c3RvbV9yb290Iiwib2xkX3RyZWUiLCJiIiwicHJpbnQiLCJsb29wX3JlX292ZXJfYmxvY2siLCJjYiIsInZhbHVlT2YiLCJhdHhIZWFkZXIiLCJoZWFkZXIiLCJzZXRleHRIZWFkZXIiLCJibG9ja19zZWFyY2giLCJzdWJzdHJpbmciLCJob3JpelJ1bGUiLCJsaXN0cyIsImFueV9saXN0IiwiYnVsbGV0X2xpc3QiLCJpc19saXN0X3JlIiwiaW5kZW50X3JlIiwicmVnZXhfZm9yX2RlcHRoIiwiZXhwYW5kX3RhYiIsImxpIiwibG9vc2UiLCJubCIsImFkZF90byIsIndoYXQiLCJnZXRfY29udGFpbmVkX2Jsb2NrcyIsInBhcmFncmFwaGlmeSIsInN0YWNrIiwibGlzdCIsImxhc3RfbGkiLCJzdWJsaXN0IiwibWFrZV9saXN0IiwibGluZXMiLCJsaV9hY2N1bXVsYXRlIiwibGluZV9yZSIsIndhbnRlZF9kZXB0aCIsIk1hdGgiLCJmbG9vciIsImZvdW5kIiwiaW5kZW50IiwiY29udGFpbmVkIiwibmV4dF9ibG9jayIsImhyIiwiYmxvY2txdW90ZSIsImFidXR0aW5nIiwicHJvY2Vzc2VkQmxvY2siLCJhdHRyIiwiaXNFbXB0eSIsInJlZmVyZW5jZURlZm4iLCJ0b0xvd2VyQ2FzZSIsInBhcmEiLCJfX29uZUVsZW1lbnRfXyIsInBhdHRlcm5zX29yX3JlIiwicHJldmlvdXNfbm9kZXMiLCJfX3BhdHRlcm5zX18iLCJpbmRleCIsInBhdHRlcm5zIiwib3V0IiwiXSIsIn0iLCJfX2VzY2FwZV9fIiwiXFwiLCJjaGFyQXQiLCIhWyIsImFsdCIsIlsiLCJvcmlnIiwiRGlhbGVjdEhlbHBlcnMiLCJpbmxpbmVfdW50aWxfY2hhciIsImxpbmsiLCJjb25zdW1lZCIsImNoaWxkcmVuIiwidXJsIiwib3Blbl9wYXJlbnMiLCI8IiwiYCIsIiAgXG4iLCJidWlsZEJsb2NrT3JkZXIiLCJidWlsZElubGluZVBhdHRlcm5zIiwicGF0dGVybiIsIndhbnQiLCJub2RlcyIsInN1YmNsYXNzRGlhbGVjdCIsIkJsb2NrIiwiSW5saW5lIiwiTWFydWt1IiwicHJvY2Vzc01ldGFIYXNoIiwibWV0YV9zdHJpbmciLCJtZXRhIiwicGFydHMiLCJpbl9xdW90ZXMiLCJsZXR0ZXIiLCJzcGxpdF9tZXRhX2hhc2giLCJpZCIsImRvY3VtZW50X21ldGEiLCJwYWlycyIsImJsb2NrX21ldGEiLCJub2RlIiwiYSIsInJlc3VsdCIsImRlZmluaXRpb25fbGlzdCIsInRpZ2h0IiwidGVybXMiLCJkZWZucyIsInRhYmxlIiwiX3NwbGl0X29uX3VuZXNjYXBlZCIsImNoIiwiaHRtbF9hdHRycyIsImFsaWduIiwidHJpbSIsInJvdyIsImh0bWxfcm93IiwibWF0Y2hlcyIsImJlZm9yZSIsImsiLCJhcnIiLCJ0aGlzcCIsImVzY2FwZUhUTUwiLCJyZW5kZXJfdHJlZSIsImF0dHJpYnV0ZXMiLCJjb250ZW50IiwidGFnX2F0dHJzIiwicm9vdCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxF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LEVBQUFyQixJQUFBLElBSUEsYUFBQTlILEdBQUEsTUFBQUEsR0FBQSxNQUFBQSxFQUNBLElBQUFBLEVBQUFxSixFQUFBLEtBR0EsSUFBQXJKLEVBQUFxSixFQUFBLElBQUFELEVBQUFwVSxLQUFBLFNBQUFnTCxFQUFBLElBNURBNUMsRUFBQW1CLGFBQUEsU0FBQVEsRUFBQVgsSUFDQUEsU0FFQWtMLEtBQUFsTCxFQUFBa0wsT0FBQSxFQUVBLElBQUFGLEtBRUEsR0FBQWhMLEVBQUFrTCxLQUNBRixFQUFBclcsS0FBQW1XLEVBQUFuSyxTQVFBLElBTEFBLEVBQUF3QixTQUNBeEIsRUFBQS9NLFFBQUEsaUJBQUErTSxFQUFBLElBQUFBLEVBQUEsYUFBQWxNLE9BQ0FrTSxFQUFBd0IsUUFHQXhCLEVBQUEvTSxRQUNBb1gsRUFBQXJXLEtBQUFtVyxFQUFBbkssRUFBQXdCLFVBSUEsT0FBQTZJLEVBQUFwVSxLQUFBLFNBNTlDQSxDQW1yREEvSCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvLyBzdXBlciBzaW1wbGUgbW9kdWxlIGZvciB0aGUgbW9zdCBjb21tb24gbm9kZWpzIHVzZSBjYXNlLlxuZXhwb3J0cy5tYXJrZG93biA9IHJlcXVpcmUoXCIuL21hcmtkb3duXCIpO1xuZXhwb3J0cy5wYXJzZSA9IGV4cG9ydHMubWFya2Rvd24udG9IVE1MO1xuIiwiaW1wb3J0IHsgbWFya2Rvd24gfSBmcm9tIFwibWFya2Rvd25cIjtcblxudmFyIGF0dGFjaFByZXZpZXdlciA9IGZ1bmN0aW9uKCRkb2N1bWVudCwgc291cmNlSWQsIHByZXZpZXdJZCkge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgdGV4dCAgICA9ICRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzb3VyY2VJZCkudmFsdWUsXG4gICAgICAgIHByZXZpZXcgPSAkZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJldmlld0lkKTtcbiAgICBwcmV2aWV3LmlubmVySFRNTCA9IG1hcmtkb3duLnRvSFRNTCh0ZXh0KTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRocm93IFwiYWFhYWFhYVwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXR0YWNoUHJldmlld2VyOiBhdHRhY2hQcmV2aWV3ZXJcbn0iLCJpbXBvcnQgXCJ0YWNoeW9uc1wiO1xuaW1wb3J0IFwiLi4vY3NzL3N0eWxlcy5jc3NcIjtcbmltcG9ydCBtYXJrZG93blByZXZpZXdlciBmcm9tIFwiLi9tYXJrZG93blByZXZpZXdlclwiXG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0b3JcIikuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcInN1Ym1pdFwiLFxuICAgIG1hcmtkb3duUHJldmlld2VyLmF0dGFjaFByZXZpZXdlcihcbiAgICAgIGRvY3VtZW50LCAvLyBwYXNzIGluIGRvY3VtZW50XG4gICAgICBcInNvdXJjZVwiLCAvLyBpZCBvZiBzb3VyY2UgdGV4dGFyZWFcbiAgICAgIFwicHJldmlld1wiIC8vIGlkIG9mIHByZXZpZXcgRE9NIGRlbGVtZW50XG4gICAgKVxuICApO1xufTsiLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn0iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbiIsIi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDktMjAxMCBEb21pbmljIEJhZ2dvdHRcbi8vIENvcHlyaWdodCAoYykgMjAwOS0yMDEwIEFzaCBCZXJsaW5cbi8vIENvcHlyaWdodCAoYykgMjAxMSBDaHJpc3RvcGggRG9ybiA8Y2hyaXN0b3BoQGNocmlzdG9waGRvcm4uY29tPiAoaHR0cDovL3d3dy5jaHJpc3RvcGhkb3JuLmNvbSlcblxuLypqc2hpbnQgYnJvd3Nlcjp0cnVlLCBkZXZlbDp0cnVlICovXG5cbihmdW5jdGlvbiggZXhwb3NlICkge1xuXG4vKipcbiAqICBjbGFzcyBNYXJrZG93blxuICpcbiAqICBNYXJrZG93biBwcm9jZXNzaW5nIGluIEphdmFzY3JpcHQgZG9uZSByaWdodC4gV2UgaGF2ZSB2ZXJ5IHBhcnRpY3VsYXIgdmlld3NcbiAqICBvbiB3aGF0IGNvbnN0aXR1dGVzICdyaWdodCcgd2hpY2ggaW5jbHVkZTpcbiAqXG4gKiAgLSBwcm9kdWNlcyB3ZWxsLWZvcm1lZCBIVE1MICh0aGlzIG1lYW5zIHRoYXQgZW0gYW5kIHN0cm9uZyBuZXN0aW5nIGlzXG4gKiAgICBpbXBvcnRhbnQpXG4gKlxuICogIC0gaGFzIGFuIGludGVybWVkaWF0ZSByZXByZXNlbnRhdGlvbiB0byBhbGxvdyBwcm9jZXNzaW5nIG9mIHBhcnNlZCBkYXRhIChXZVxuICogICAgaW4gZmFjdCBoYXZlIHR3bywgYm90aCBhcyBbSnNvbk1MXTogYSBtYXJrZG93biB0cmVlIGFuZCBhbiBIVE1MIHRyZWUpLlxuICpcbiAqICAtIGlzIGVhc2lseSBleHRlbnNpYmxlIHRvIGFkZCBuZXcgZGlhbGVjdHMgd2l0aG91dCBoYXZpbmcgdG8gcmV3cml0ZSB0aGVcbiAqICAgIGVudGlyZSBwYXJzaW5nIG1lY2hhbmljc1xuICpcbiAqICAtIGhhcyBhIGdvb2QgdGVzdCBzdWl0ZVxuICpcbiAqICBUaGlzIGltcGxlbWVudGF0aW9uIGZ1bGZpbGxzIGFsbCBvZiB0aGVzZSAoZXhjZXB0IHRoYXQgdGhlIHRlc3Qgc3VpdGUgY291bGRcbiAqICBkbyB3aXRoIGV4cGFuZGluZyB0byBhdXRvbWF0aWNhbGx5IHJ1biBhbGwgdGhlIGZpeHR1cmVzIGZyb20gb3RoZXIgTWFya2Rvd25cbiAqICBpbXBsZW1lbnRhdGlvbnMuKVxuICpcbiAqICAjIyMjIyBJbnRlcm1lZGlhdGUgUmVwcmVzZW50YXRpb25cbiAqXG4gKiAgKlRPRE8qIFRhbGsgYWJvdXQgdGhpcyA6KSBJdHMgSnNvbk1MLCBidXQgZG9jdW1lbnQgdGhlIG5vZGUgbmFtZXMgd2UgdXNlLlxuICpcbiAqICBbSnNvbk1MXTogaHR0cDovL2pzb25tbC5vcmcvIFwiSlNPTiBNYXJrdXAgTGFuZ3VhZ2VcIlxuICoqL1xudmFyIE1hcmtkb3duID0gZXhwb3NlLk1hcmtkb3duID0gZnVuY3Rpb24oZGlhbGVjdCkge1xuICBzd2l0Y2ggKHR5cGVvZiBkaWFsZWN0KSB7XG4gICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgdGhpcy5kaWFsZWN0ID0gTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoIGRpYWxlY3QgaW4gTWFya2Rvd24uZGlhbGVjdHMgKSB7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IE1hcmtkb3duLmRpYWxlY3RzW2RpYWxlY3RdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gTWFya2Rvd24gZGlhbGVjdCAnXCIgKyBTdHJpbmcoZGlhbGVjdCkgKyBcIidcIik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICB0aGlzLmVtX3N0YXRlID0gW107XG4gIHRoaXMuc3Ryb25nX3N0YXRlID0gW107XG4gIHRoaXMuZGVidWdfaW5kZW50ID0gXCJcIjtcbn07XG5cbi8qKlxuICogIHBhcnNlKCBtYXJrZG93biwgW2RpYWxlY3RdICkgLT4gSnNvbk1MXG4gKiAgLSBtYXJrZG93biAoU3RyaW5nKTogbWFya2Rvd24gc3RyaW5nIHRvIHBhcnNlXG4gKiAgLSBkaWFsZWN0IChTdHJpbmcgfCBEaWFsZWN0KTogdGhlIGRpYWxlY3QgdG8gdXNlLCBkZWZhdWx0cyB0byBncnViZXJcbiAqXG4gKiAgUGFyc2UgYG1hcmtkb3duYCBhbmQgcmV0dXJuIGEgbWFya2Rvd24gZG9jdW1lbnQgYXMgYSBNYXJrZG93bi5Kc29uTUwgdHJlZS5cbiAqKi9cbmV4cG9zZS5wYXJzZSA9IGZ1bmN0aW9uKCBzb3VyY2UsIGRpYWxlY3QgKSB7XG4gIC8vIGRpYWxlY3Qgd2lsbCBkZWZhdWx0IGlmIHVuZGVmaW5lZFxuICB2YXIgbWQgPSBuZXcgTWFya2Rvd24oIGRpYWxlY3QgKTtcbiAgcmV0dXJuIG1kLnRvVHJlZSggc291cmNlICk7XG59O1xuXG4vKipcbiAqICB0b0hUTUwoIG1hcmtkb3duLCBbZGlhbGVjdF0gICkgLT4gU3RyaW5nXG4gKiAgdG9IVE1MKCBtZF90cmVlICkgLT4gU3RyaW5nXG4gKiAgLSBtYXJrZG93biAoU3RyaW5nKTogbWFya2Rvd24gc3RyaW5nIHRvIHBhcnNlXG4gKiAgLSBtZF90cmVlIChNYXJrZG93bi5Kc29uTUwpOiBwYXJzZWQgbWFya2Rvd24gdHJlZVxuICpcbiAqICBUYWtlIG1hcmtkb3duIChlaXRoZXIgYXMgYSBzdHJpbmcgb3IgYXMgYSBKc29uTUwgdHJlZSkgYW5kIHJ1biBpdCB0aHJvdWdoXG4gKiAgW1t0b0hUTUxUcmVlXV0gdGhlbiB0dXJuIGl0IGludG8gYSB3ZWxsLWZvcm1hdGVkIEhUTUwgZnJhZ21lbnQuXG4gKiovXG5leHBvc2UudG9IVE1MID0gZnVuY3Rpb24gdG9IVE1MKCBzb3VyY2UgLCBkaWFsZWN0ICwgb3B0aW9ucyApIHtcbiAgdmFyIGlucHV0ID0gZXhwb3NlLnRvSFRNTFRyZWUoIHNvdXJjZSAsIGRpYWxlY3QgLCBvcHRpb25zICk7XG5cbiAgcmV0dXJuIGV4cG9zZS5yZW5kZXJKc29uTUwoIGlucHV0ICk7XG59O1xuXG4vKipcbiAqICB0b0hUTUxUcmVlKCBtYXJrZG93biwgW2RpYWxlY3RdICkgLT4gSnNvbk1MXG4gKiAgdG9IVE1MVHJlZSggbWRfdHJlZSApIC0+IEpzb25NTFxuICogIC0gbWFya2Rvd24gKFN0cmluZyk6IG1hcmtkb3duIHN0cmluZyB0byBwYXJzZVxuICogIC0gZGlhbGVjdCAoU3RyaW5nIHwgRGlhbGVjdCk6IHRoZSBkaWFsZWN0IHRvIHVzZSwgZGVmYXVsdHMgdG8gZ3J1YmVyXG4gKiAgLSBtZF90cmVlIChNYXJrZG93bi5Kc29uTUwpOiBwYXJzZWQgbWFya2Rvd24gdHJlZVxuICpcbiAqICBUdXJuIG1hcmtkb3duIGludG8gSFRNTCwgcmVwcmVzZW50ZWQgYXMgYSBKc29uTUwgdHJlZS4gSWYgYSBzdHJpbmcgaXMgZ2l2ZW5cbiAqICB0byB0aGlzIGZ1bmN0aW9uLCBpdCBpcyBmaXJzdCBwYXJzZWQgaW50byBhIG1hcmtkb3duIHRyZWUgYnkgY2FsbGluZ1xuICogIFtbcGFyc2VdXS5cbiAqKi9cbmV4cG9zZS50b0hUTUxUcmVlID0gZnVuY3Rpb24gdG9IVE1MVHJlZSggaW5wdXQsIGRpYWxlY3QgLCBvcHRpb25zICkge1xuICAvLyBjb252ZXJ0IHN0cmluZyBpbnB1dCB0byBhbiBNRCB0cmVlXG4gIGlmICggdHlwZW9mIGlucHV0ID09PVwic3RyaW5nXCIgKSBpbnB1dCA9IHRoaXMucGFyc2UoIGlucHV0LCBkaWFsZWN0ICk7XG5cbiAgLy8gTm93IGNvbnZlcnQgdGhlIE1EIHRyZWUgdG8gYW4gSFRNTCB0cmVlXG5cbiAgLy8gcmVtb3ZlIHJlZmVyZW5jZXMgZnJvbSB0aGUgdHJlZVxuICB2YXIgYXR0cnMgPSBleHRyYWN0X2F0dHIoIGlucHV0ICksXG4gICAgICByZWZzID0ge307XG5cbiAgaWYgKCBhdHRycyAmJiBhdHRycy5yZWZlcmVuY2VzICkge1xuICAgIHJlZnMgPSBhdHRycy5yZWZlcmVuY2VzO1xuICB9XG5cbiAgdmFyIGh0bWwgPSBjb252ZXJ0X3RyZWVfdG9faHRtbCggaW5wdXQsIHJlZnMgLCBvcHRpb25zICk7XG4gIG1lcmdlX3RleHRfbm9kZXMoIGh0bWwgKTtcbiAgcmV0dXJuIGh0bWw7XG59O1xuXG4vLyBGb3IgU3BpZGVybW9ua2V5IGJhc2VkIGVuZ2luZXNcbmZ1bmN0aW9uIG1rX2Jsb2NrX3RvU291cmNlKCkge1xuICByZXR1cm4gXCJNYXJrZG93bi5ta19ibG9jayggXCIgK1xuICAgICAgICAgIHVuZXZhbCh0aGlzLnRvU3RyaW5nKCkpICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHVuZXZhbCh0aGlzLnRyYWlsaW5nKSArXG4gICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICB1bmV2YWwodGhpcy5saW5lTnVtYmVyKSArXG4gICAgICAgICAgXCIgKVwiO1xufVxuXG4vLyBub2RlXG5mdW5jdGlvbiBta19ibG9ja19pbnNwZWN0KCkge1xuICB2YXIgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuICByZXR1cm4gXCJNYXJrZG93bi5ta19ibG9jayggXCIgK1xuICAgICAgICAgIHV0aWwuaW5zcGVjdCh0aGlzLnRvU3RyaW5nKCkpICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHV0aWwuaW5zcGVjdCh0aGlzLnRyYWlsaW5nKSArXG4gICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICB1dGlsLmluc3BlY3QodGhpcy5saW5lTnVtYmVyKSArXG4gICAgICAgICAgXCIgKVwiO1xuXG59XG5cbnZhciBta19ibG9jayA9IE1hcmtkb3duLm1rX2Jsb2NrID0gZnVuY3Rpb24oYmxvY2ssIHRyYWlsLCBsaW5lKSB7XG4gIC8vIEJlIGhlbHBmdWwgZm9yIGRlZmF1bHQgY2FzZSBpbiB0ZXN0cy5cbiAgaWYgKCBhcmd1bWVudHMubGVuZ3RoID09IDEgKSB0cmFpbCA9IFwiXFxuXFxuXCI7XG5cbiAgdmFyIHMgPSBuZXcgU3RyaW5nKGJsb2NrKTtcbiAgcy50cmFpbGluZyA9IHRyYWlsO1xuICAvLyBUbyBtYWtlIGl0IGNsZWFyIGl0cyBub3QganVzdCBhIHN0cmluZ1xuICBzLmluc3BlY3QgPSBta19ibG9ja19pbnNwZWN0O1xuICBzLnRvU291cmNlID0gbWtfYmxvY2tfdG9Tb3VyY2U7XG5cbiAgaWYgKCBsaW5lICE9IHVuZGVmaW5lZCApXG4gICAgcy5saW5lTnVtYmVyID0gbGluZTtcblxuICByZXR1cm4gcztcbn07XG5cbmZ1bmN0aW9uIGNvdW50X2xpbmVzKCBzdHIgKSB7XG4gIHZhciBuID0gMCwgaSA9IC0xO1xuICB3aGlsZSAoICggaSA9IHN0ci5pbmRleE9mKFwiXFxuXCIsIGkgKyAxKSApICE9PSAtMSApIG4rKztcbiAgcmV0dXJuIG47XG59XG5cbi8vIEludGVybmFsIC0gc3BsaXQgc291cmNlIGludG8gcm91Z2ggYmxvY2tzXG5NYXJrZG93bi5wcm90b3R5cGUuc3BsaXRfYmxvY2tzID0gZnVuY3Rpb24gc3BsaXRCbG9ja3MoIGlucHV0LCBzdGFydExpbmUgKSB7XG4gIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nLCBcIlxcblwiKTtcbiAgLy8gW1xcc1xcU10gbWF0Y2hlcyBfYW55dGhpbmdfIChuZXdsaW5lIG9yIHNwYWNlKVxuICAvLyBbXl0gaXMgZXF1aXZhbGVudCBidXQgZG9lc24ndCB3b3JrIGluIElFcy5cbiAgdmFyIHJlID0gLyhbXFxzXFxTXSs/KSgkfFxcbiN8XFxuKD86XFxzKlxcbnwkKSspL2csXG4gICAgICBibG9ja3MgPSBbXSxcbiAgICAgIG07XG5cbiAgdmFyIGxpbmVfbm8gPSAxO1xuXG4gIGlmICggKCBtID0gL14oXFxzKlxcbikvLmV4ZWMoaW5wdXQpICkgIT0gbnVsbCApIHtcbiAgICAvLyBza2lwIChidXQgY291bnQpIGxlYWRpbmcgYmxhbmsgbGluZXNcbiAgICBsaW5lX25vICs9IGNvdW50X2xpbmVzKCBtWzBdICk7XG4gICAgcmUubGFzdEluZGV4ID0gbVswXS5sZW5ndGg7XG4gIH1cblxuICB3aGlsZSAoICggbSA9IHJlLmV4ZWMoaW5wdXQpICkgIT09IG51bGwgKSB7XG4gICAgaWYgKG1bMl0gPT0gXCJcXG4jXCIpIHtcbiAgICAgIG1bMl0gPSBcIlxcblwiO1xuICAgICAgcmUubGFzdEluZGV4LS07XG4gICAgfVxuICAgIGJsb2Nrcy5wdXNoKCBta19ibG9jayggbVsxXSwgbVsyXSwgbGluZV9ubyApICk7XG4gICAgbGluZV9ubyArPSBjb3VudF9saW5lcyggbVswXSApO1xuICB9XG5cbiAgcmV0dXJuIGJsb2Nrcztcbn07XG5cbi8qKlxuICogIE1hcmtkb3duI3Byb2Nlc3NCbG9jayggYmxvY2ssIG5leHQgKSAtPiB1bmRlZmluZWQgfCBbIEpzb25NTCwgLi4uIF1cbiAqICAtIGJsb2NrIChTdHJpbmcpOiB0aGUgYmxvY2sgdG8gcHJvY2Vzc1xuICogIC0gbmV4dCAoQXJyYXkpOiB0aGUgZm9sbG93aW5nIGJsb2Nrc1xuICpcbiAqIFByb2Nlc3MgYGJsb2NrYCBhbmQgcmV0dXJuIGFuIGFycmF5IG9mIEpzb25NTCBub2RlcyByZXByZXNlbnRpbmcgYGJsb2NrYC5cbiAqXG4gKiBJdCBkb2VzIHRoaXMgYnkgYXNraW5nIGVhY2ggYmxvY2sgbGV2ZWwgZnVuY3Rpb24gaW4gdGhlIGRpYWxlY3QgdG8gcHJvY2Vzc1xuICogdGhlIGJsb2NrIHVudGlsIG9uZSBjYW4uIFN1Y2Nlc2Z1bCBoYW5kbGluZyBpcyBpbmRpY2F0ZWQgYnkgcmV0dXJuaW5nIGFuXG4gKiBhcnJheSAod2l0aCB6ZXJvIG9yIG1vcmUgSnNvbk1MIG5vZGVzKSwgZmFpbHVyZSBieSBhIGZhbHNlIHZhbHVlLlxuICpcbiAqIEJsb2NrcyBoYW5kbGVycyBhcmUgcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgW1tNYXJrZG93biNwcm9jZXNzSW5saW5lXV1cbiAqIHRoZW1zZWx2ZXMgYXMgYXBwcm9wcmlhdGUuXG4gKlxuICogSWYgdGhlIGJsb2NrcyB3ZXJlIHNwbGl0IGluY29ycmVjdGx5IG9yIGFkamFjZW50IGJsb2NrcyBuZWVkIGNvbGxhcHNpbmcgeW91XG4gKiBjYW4gYWRqdXN0IGBuZXh0YCBpbiBwbGFjZSB1c2luZyBzaGlmdC9zcGxpY2UgZXRjLlxuICpcbiAqIElmIGFueSBvZiB0aGlzIGRlZmF1bHQgYmVoYXZpb3VyIGlzIG5vdCByaWdodCBmb3IgdGhlIGRpYWxlY3QsIHlvdSBjYW5cbiAqIGRlZmluZSBhIGBfX2NhbGxfX2AgbWV0aG9kIG9uIHRoZSBkaWFsZWN0IHRoYXQgd2lsbCBnZXQgaW52b2tlZCB0byBoYW5kbGVcbiAqIHRoZSBibG9jayBwcm9jZXNzaW5nLlxuICovXG5NYXJrZG93bi5wcm90b3R5cGUucHJvY2Vzc0Jsb2NrID0gZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKCBibG9jaywgbmV4dCApIHtcbiAgdmFyIGNicyA9IHRoaXMuZGlhbGVjdC5ibG9jayxcbiAgICAgIG9yZCA9IGNicy5fX29yZGVyX187XG5cbiAgaWYgKCBcIl9fY2FsbF9fXCIgaW4gY2JzICkge1xuICAgIHJldHVybiBjYnMuX19jYWxsX18uY2FsbCh0aGlzLCBibG9jaywgbmV4dCk7XG4gIH1cblxuICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvcmQubGVuZ3RoOyBpKysgKSB7XG4gICAgLy9EOnRoaXMuZGVidWcoIFwiVGVzdGluZ1wiLCBvcmRbaV0gKTtcbiAgICB2YXIgcmVzID0gY2JzWyBvcmRbaV0gXS5jYWxsKCB0aGlzLCBibG9jaywgbmV4dCApO1xuICAgIGlmICggcmVzICkge1xuICAgICAgLy9EOnRoaXMuZGVidWcoXCIgIG1hdGNoZWRcIik7XG4gICAgICBpZiAoICFpc0FycmF5KHJlcykgfHwgKCByZXMubGVuZ3RoID4gMCAmJiAhKCBpc0FycmF5KHJlc1swXSkgKSApIClcbiAgICAgICAgdGhpcy5kZWJ1ZyhvcmRbaV0sIFwiZGlkbid0IHJldHVybiBhIHByb3BlciBhcnJheVwiKTtcbiAgICAgIC8vRDp0aGlzLmRlYnVnKCBcIlwiICk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVob2ghIG5vIG1hdGNoISBTaG91bGQgd2UgdGhyb3cgYW4gZXJyb3I/XG4gIHJldHVybiBbXTtcbn07XG5cbk1hcmtkb3duLnByb3RvdHlwZS5wcm9jZXNzSW5saW5lID0gZnVuY3Rpb24gcHJvY2Vzc0lubGluZSggYmxvY2sgKSB7XG4gIHJldHVybiB0aGlzLmRpYWxlY3QuaW5saW5lLl9fY2FsbF9fLmNhbGwoIHRoaXMsIFN0cmluZyggYmxvY2sgKSApO1xufTtcblxuLyoqXG4gKiAgTWFya2Rvd24jdG9UcmVlKCBzb3VyY2UgKSAtPiBKc29uTUxcbiAqICAtIHNvdXJjZSAoU3RyaW5nKTogbWFya2Rvd24gc291cmNlIHRvIHBhcnNlXG4gKlxuICogIFBhcnNlIGBzb3VyY2VgIGludG8gYSBKc29uTUwgdHJlZSByZXByZXNlbnRpbmcgdGhlIG1hcmtkb3duIGRvY3VtZW50LlxuICoqL1xuLy8gY3VzdG9tX3RyZWUgbWVhbnMgc2V0IHRoaXMudHJlZSB0byBgY3VzdG9tX3RyZWVgIGFuZCByZXN0b3JlIG9sZCB2YWx1ZSBvbiByZXR1cm5cbk1hcmtkb3duLnByb3RvdHlwZS50b1RyZWUgPSBmdW5jdGlvbiB0b1RyZWUoIHNvdXJjZSwgY3VzdG9tX3Jvb3QgKSB7XG4gIHZhciBibG9ja3MgPSBzb3VyY2UgaW5zdGFuY2VvZiBBcnJheSA/IHNvdXJjZSA6IHRoaXMuc3BsaXRfYmxvY2tzKCBzb3VyY2UgKTtcblxuICAvLyBNYWtlIHRyZWUgYSBtZW1iZXIgdmFyaWFibGUgc28gaXRzIGVhc2llciB0byBtZXNzIHdpdGggaW4gZXh0ZW5zaW9uc1xuICB2YXIgb2xkX3RyZWUgPSB0aGlzLnRyZWU7XG4gIHRyeSB7XG4gICAgdGhpcy50cmVlID0gY3VzdG9tX3Jvb3QgfHwgdGhpcy50cmVlIHx8IFsgXCJtYXJrZG93blwiIF07XG5cbiAgICBibG9ja3M6XG4gICAgd2hpbGUgKCBibG9ja3MubGVuZ3RoICkge1xuICAgICAgdmFyIGIgPSB0aGlzLnByb2Nlc3NCbG9jayggYmxvY2tzLnNoaWZ0KCksIGJsb2NrcyApO1xuXG4gICAgICAvLyBSZWZlcmVuY2UgYmxvY2tzIGFuZCB0aGUgbGlrZSB3b24ndCByZXR1cm4gYW55IGNvbnRlbnRcbiAgICAgIGlmICggIWIubGVuZ3RoICkgY29udGludWUgYmxvY2tzO1xuXG4gICAgICB0aGlzLnRyZWUucHVzaC5hcHBseSggdGhpcy50cmVlLCBiICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRyZWU7XG4gIH1cbiAgZmluYWxseSB7XG4gICAgaWYgKCBjdXN0b21fcm9vdCApIHtcbiAgICAgIHRoaXMudHJlZSA9IG9sZF90cmVlO1xuICAgIH1cbiAgfVxufTtcblxuLy8gTm9vcCBieSBkZWZhdWx0XG5NYXJrZG93bi5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cyk7XG4gIGFyZ3MudW5zaGlmdCh0aGlzLmRlYnVnX2luZGVudCk7XG4gIGlmICggdHlwZW9mIHByaW50ICE9PSBcInVuZGVmaW5lZFwiIClcbiAgICAgIHByaW50LmFwcGx5KCBwcmludCwgYXJncyApO1xuICBpZiAoIHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjb25zb2xlLmxvZyAhPT0gXCJ1bmRlZmluZWRcIiApXG4gICAgICBjb25zb2xlLmxvZy5hcHBseSggbnVsbCwgYXJncyApO1xufVxuXG5NYXJrZG93bi5wcm90b3R5cGUubG9vcF9yZV9vdmVyX2Jsb2NrID0gZnVuY3Rpb24oIHJlLCBibG9jaywgY2IgKSB7XG4gIC8vIERvbnQgdXNlIC9nIHJlZ2V4cHMgd2l0aCB0aGlzXG4gIHZhciBtLFxuICAgICAgYiA9IGJsb2NrLnZhbHVlT2YoKTtcblxuICB3aGlsZSAoIGIubGVuZ3RoICYmIChtID0gcmUuZXhlYyhiKSApICE9IG51bGwgKSB7XG4gICAgYiA9IGIuc3Vic3RyKCBtWzBdLmxlbmd0aCApO1xuICAgIGNiLmNhbGwodGhpcywgbSk7XG4gIH1cbiAgcmV0dXJuIGI7XG59O1xuXG4vKipcbiAqIE1hcmtkb3duLmRpYWxlY3RzXG4gKlxuICogTmFtZXNwYWNlIG9mIGJ1aWx0LWluIGRpYWxlY3RzLlxuICoqL1xuTWFya2Rvd24uZGlhbGVjdHMgPSB7fTtcblxuLyoqXG4gKiBNYXJrZG93bi5kaWFsZWN0cy5HcnViZXJcbiAqXG4gKiBUaGUgZGVmYXVsdCBkaWFsZWN0IHRoYXQgZm9sbG93cyB0aGUgcnVsZXMgc2V0IG91dCBieSBKb2huIEdydWJlcidzXG4gKiBtYXJrZG93bi5wbCBhcyBjbG9zZWx5IGFzIHBvc3NpYmxlLiBXZWxsIGFjdHVhbGx5IHdlIGZvbGxvdyB0aGUgYmVoYXZpb3VyIG9mXG4gKiB0aGF0IHNjcmlwdCB3aGljaCBpbiBzb21lIHBsYWNlcyBpcyBub3QgZXhhY3RseSB3aGF0IHRoZSBzeW50YXggd2ViIHBhZ2VcbiAqIHNheXMuXG4gKiovXG5NYXJrZG93bi5kaWFsZWN0cy5HcnViZXIgPSB7XG4gIGJsb2NrOiB7XG4gICAgYXR4SGVhZGVyOiBmdW5jdGlvbiBhdHhIZWFkZXIoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgdmFyIG0gPSBibG9jay5tYXRjaCggL14oI3sxLDZ9KVxccyooLio/KVxccyojKlxccyooPzpcXG58JCkvICk7XG5cbiAgICAgIGlmICggIW0gKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaGVhZGVyID0gWyBcImhlYWRlclwiLCB7IGxldmVsOiBtWyAxIF0ubGVuZ3RoIH0gXTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGhlYWRlciwgdGhpcy5wcm9jZXNzSW5saW5lKG1bIDIgXSkpO1xuXG4gICAgICBpZiAoIG1bMF0ubGVuZ3RoIDwgYmxvY2subGVuZ3RoIClcbiAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayggYmxvY2suc3Vic3RyKCBtWzBdLmxlbmd0aCApLCBibG9jay50cmFpbGluZywgYmxvY2subGluZU51bWJlciArIDIgKSApO1xuXG4gICAgICByZXR1cm4gWyBoZWFkZXIgXTtcbiAgICB9LFxuXG4gICAgc2V0ZXh0SGVhZGVyOiBmdW5jdGlvbiBzZXRleHRIZWFkZXIoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgdmFyIG0gPSBibG9jay5tYXRjaCggL14oLiopXFxuKFstPV0pXFwyXFwyKyg/OlxcbnwkKS8gKTtcblxuICAgICAgaWYgKCAhbSApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBsZXZlbCA9ICggbVsgMiBdID09PSBcIj1cIiApID8gMSA6IDI7XG4gICAgICB2YXIgaGVhZGVyID0gWyBcImhlYWRlclwiLCB7IGxldmVsIDogbGV2ZWwgfSwgbVsgMSBdIF07XG5cbiAgICAgIGlmICggbVswXS5sZW5ndGggPCBibG9jay5sZW5ndGggKVxuICAgICAgICBuZXh0LnVuc2hpZnQoIG1rX2Jsb2NrKCBibG9jay5zdWJzdHIoIG1bMF0ubGVuZ3RoICksIGJsb2NrLnRyYWlsaW5nLCBibG9jay5saW5lTnVtYmVyICsgMiApICk7XG5cbiAgICAgIHJldHVybiBbIGhlYWRlciBdO1xuICAgIH0sXG5cbiAgICBjb2RlOiBmdW5jdGlvbiBjb2RlKCBibG9jaywgbmV4dCApIHtcbiAgICAgIC8vIHwgICAgRm9vXG4gICAgICAvLyB8YmFyXG4gICAgICAvLyBzaG91bGQgYmUgYSBjb2RlIGJsb2NrIGZvbGxvd2VkIGJ5IGEgcGFyYWdyYXBoLiBGdW5cbiAgICAgIC8vXG4gICAgICAvLyBUaGVyZSBtaWdodCBhbHNvIGJlIGFkamFjZW50IGNvZGUgYmxvY2sgdG8gbWVyZ2UuXG5cbiAgICAgIHZhciByZXQgPSBbXSxcbiAgICAgICAgICByZSA9IC9eKD86IHswLDN9XFx0fCB7NH0pKC4qKVxcbj8vLFxuICAgICAgICAgIGxpbmVzO1xuXG4gICAgICAvLyA0IHNwYWNlcyArIGNvbnRlbnRcbiAgICAgIGlmICggIWJsb2NrLm1hdGNoKCByZSApICkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgYmxvY2tfc2VhcmNoOlxuICAgICAgZG8ge1xuICAgICAgICAvLyBOb3cgcHVsbCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGxpbmVzXG4gICAgICAgIHZhciBiID0gdGhpcy5sb29wX3JlX292ZXJfYmxvY2soXG4gICAgICAgICAgICAgICAgICByZSwgYmxvY2sudmFsdWVPZigpLCBmdW5jdGlvbiggbSApIHsgcmV0LnB1c2goIG1bMV0gKTsgfSApO1xuXG4gICAgICAgIGlmICggYi5sZW5ndGggKSB7XG4gICAgICAgICAgLy8gQ2FzZSBhbGx1ZGVkIHRvIGluIGZpcnN0IGNvbW1lbnQuIHB1c2ggaXQgYmFjayBvbiBhcyBhIG5ldyBibG9ja1xuICAgICAgICAgIG5leHQudW5zaGlmdCggbWtfYmxvY2soYiwgYmxvY2sudHJhaWxpbmcpICk7XG4gICAgICAgICAgYnJlYWsgYmxvY2tfc2VhcmNoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCBuZXh0Lmxlbmd0aCApIHtcbiAgICAgICAgICAvLyBDaGVjayB0aGUgbmV4dCBibG9jayAtIGl0IG1pZ2h0IGJlIGNvZGUgdG9vXG4gICAgICAgICAgaWYgKCAhbmV4dFswXS5tYXRjaCggcmUgKSApIGJyZWFrIGJsb2NrX3NlYXJjaDtcblxuICAgICAgICAgIC8vIFB1bGwgaG93IGhvdyBtYW55IGJsYW5rcyBsaW5lcyBmb2xsb3cgLSBtaW51cyB0d28gdG8gYWNjb3VudCBmb3IgLmpvaW5cbiAgICAgICAgICByZXQucHVzaCAoIGJsb2NrLnRyYWlsaW5nLnJlcGxhY2UoL1teXFxuXS9nLCBcIlwiKS5zdWJzdHJpbmcoMikgKTtcblxuICAgICAgICAgIGJsb2NrID0gbmV4dC5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJyZWFrIGJsb2NrX3NlYXJjaDtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoIHRydWUgKTtcblxuICAgICAgcmV0dXJuIFsgWyBcImNvZGVfYmxvY2tcIiwgcmV0LmpvaW4oXCJcXG5cIikgXSBdO1xuICAgIH0sXG5cbiAgICBob3JpelJ1bGU6IGZ1bmN0aW9uIGhvcml6UnVsZSggYmxvY2ssIG5leHQgKSB7XG4gICAgICAvLyB0aGlzIG5lZWRzIHRvIGZpbmQgYW55IGhyIGluIHRoZSBibG9jayB0byBoYW5kbGUgYWJ1dHRpbmcgYmxvY2tzXG4gICAgICB2YXIgbSA9IGJsb2NrLm1hdGNoKCAvXig/OihbXFxzXFxTXSo/KVxcbik/WyBcXHRdKihbLV8qXSkoPzpbIFxcdF0qXFwyKXsyLH1bIFxcdF0qKD86XFxuKFtcXHNcXFNdKikpPyQvICk7XG5cbiAgICAgIGlmICggIW0gKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBqc29ubWwgPSBbIFsgXCJoclwiIF0gXTtcblxuICAgICAgLy8gaWYgdGhlcmUncyBhIGxlYWRpbmcgYWJ1dHRpbmcgYmxvY2ssIHByb2Nlc3MgaXRcbiAgICAgIGlmICggbVsgMSBdICkge1xuICAgICAgICBqc29ubWwudW5zaGlmdC5hcHBseSgganNvbm1sLCB0aGlzLnByb2Nlc3NCbG9jayggbVsgMSBdLCBbXSApICk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZXJlJ3MgYSB0cmFpbGluZyBhYnV0dGluZyBibG9jaywgc3RpY2sgaXQgaW50byBuZXh0XG4gICAgICBpZiAoIG1bIDMgXSApIHtcbiAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayggbVsgMyBdICkgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpzb25tbDtcbiAgICB9LFxuXG4gICAgLy8gVGhlcmUgYXJlIHR3byB0eXBlcyBvZiBsaXN0cy4gVGlnaHQgYW5kIGxvb3NlLiBUaWdodCBsaXN0cyBoYXZlIG5vIHdoaXRlc3BhY2VcbiAgICAvLyBiZXR3ZWVuIHRoZSBpdGVtcyAoYW5kIHJlc3VsdCBpbiB0ZXh0IGp1c3QgaW4gdGhlIDxsaT4pIGFuZCBsb29zZSBsaXN0cyxcbiAgICAvLyB3aGljaCBoYXZlIGFuIGVtcHR5IGxpbmUgYmV0d2VlbiBsaXN0IGl0ZW1zLCByZXN1bHRpbmcgaW4gKG9uZSBvciBtb3JlKVxuICAgIC8vIHBhcmFncmFwaHMgaW5zaWRlIHRoZSA8bGk+LlxuICAgIC8vXG4gICAgLy8gVGhlcmUgYXJlIGFsbCBzb3J0cyB3ZWlyZCBlZGdlIGNhc2VzIGFib3V0IHRoZSBvcmlnaW5hbCBtYXJrZG93bi5wbCdzXG4gICAgLy8gaGFuZGxpbmcgb2YgbGlzdHM6XG4gICAgLy9cbiAgICAvLyAqIE5lc3RlZCBsaXN0cyBhcmUgc3VwcG9zZWQgdG8gYmUgaW5kZW50ZWQgYnkgZm91ciBjaGFycyBwZXIgbGV2ZWwuIEJ1dFxuICAgIC8vICAgaWYgdGhleSBhcmVuJ3QsIHlvdSBjYW4gZ2V0IGEgbmVzdGVkIGxpc3QgYnkgaW5kZW50aW5nIGJ5IGxlc3MgdGhhblxuICAgIC8vICAgZm91ciBzbyBsb25nIGFzIHRoZSBpbmRlbnQgZG9lc24ndCBtYXRjaCBhbiBpbmRlbnQgb2YgYW4gZXhpc3RpbmcgbGlzdFxuICAgIC8vICAgaXRlbSBpbiB0aGUgJ25lc3Qgc3RhY2snLlxuICAgIC8vXG4gICAgLy8gKiBUaGUgdHlwZSBvZiB0aGUgbGlzdCAoYnVsbGV0IG9yIG51bWJlcikgaXMgY29udHJvbGxlZCBqdXN0IGJ5IHRoZVxuICAgIC8vICAgIGZpcnN0IGl0ZW0gYXQgdGhlIGluZGVudC4gU3Vic2VxdWVudCBjaGFuZ2VzIGFyZSBpZ25vcmVkIHVubGVzcyB0aGV5XG4gICAgLy8gICAgYXJlIGZvciBuZXN0ZWQgbGlzdHNcbiAgICAvL1xuICAgIGxpc3RzOiAoZnVuY3Rpb24oICkge1xuICAgICAgLy8gVXNlIGEgY2xvc3VyZSB0byBoaWRlIGEgZmV3IHZhcmlhYmxlcy5cbiAgICAgIHZhciBhbnlfbGlzdCA9IFwiWyorLV18XFxcXGQrXFxcXC5cIixcbiAgICAgICAgICBidWxsZXRfbGlzdCA9IC9bKistXS8sXG4gICAgICAgICAgbnVtYmVyX2xpc3QgPSAvXFxkK1xcLi8sXG4gICAgICAgICAgLy8gQ2FwdHVyZSBsZWFkaW5nIGluZGVudCBhcyBpdCBtYXR0ZXJzIGZvciBkZXRlcm1pbmluZyBuZXN0ZWQgbGlzdHMuXG4gICAgICAgICAgaXNfbGlzdF9yZSA9IG5ldyBSZWdFeHAoIFwiXiggezAsM30pKFwiICsgYW55X2xpc3QgKyBcIilbIFxcdF0rXCIgKSxcbiAgICAgICAgICBpbmRlbnRfcmUgPSBcIig/OiB7MCwzfVxcXFx0fCB7NH0pXCI7XG5cbiAgICAgIC8vIFRPRE86IENhY2hlIHRoaXMgcmVnZXhwIGZvciBjZXJ0YWluIGRlcHRocy5cbiAgICAgIC8vIENyZWF0ZSBhIHJlZ2V4cCBzdWl0YWJsZSBmb3IgbWF0Y2hpbmcgYW4gbGkgZm9yIGEgZ2l2ZW4gc3RhY2sgZGVwdGhcbiAgICAgIGZ1bmN0aW9uIHJlZ2V4X2Zvcl9kZXB0aCggZGVwdGggKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXG4gICAgICAgICAgLy8gbVsxXSA9IGluZGVudCwgbVsyXSA9IGxpc3RfdHlwZVxuICAgICAgICAgIFwiKD86XihcIiArIGluZGVudF9yZSArIFwiezAsXCIgKyBkZXB0aCArIFwifSB7MCwzfSkoXCIgKyBhbnlfbGlzdCArIFwiKVxcXFxzKyl8XCIgK1xuICAgICAgICAgIC8vIG1bM10gPSBjb250XG4gICAgICAgICAgXCIoXlwiICsgaW5kZW50X3JlICsgXCJ7MCxcIiArIChkZXB0aC0xKSArIFwifVsgXXswLDR9KVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBleHBhbmRfdGFiKCBpbnB1dCApIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoIC8gezAsM31cXHQvZywgXCIgICAgXCIgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGlubGluZSBjb250ZW50IGBpbmxpbmVgIHRvIGBsaWAuIGlubGluZSBjb21lcyBmcm9tIHByb2Nlc3NJbmxpbmVcbiAgICAgIC8vIHNvIGlzIGFuIGFycmF5IG9mIGNvbnRlbnRcbiAgICAgIGZ1bmN0aW9uIGFkZChsaSwgbG9vc2UsIGlubGluZSwgbmwpIHtcbiAgICAgICAgaWYgKCBsb29zZSApIHtcbiAgICAgICAgICBsaS5wdXNoKCBbIFwicGFyYVwiIF0uY29uY2F0KGlubGluZSkgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSG1tbSwgc2hvdWxkIHRoaXMgYmUgYW55IGJsb2NrIGxldmVsIGVsZW1lbnQgb3IganVzdCBwYXJhcz9cbiAgICAgICAgdmFyIGFkZF90byA9IGxpW2xpLmxlbmd0aCAtMV0gaW5zdGFuY2VvZiBBcnJheSAmJiBsaVtsaS5sZW5ndGggLSAxXVswXSA9PSBcInBhcmFcIlxuICAgICAgICAgICAgICAgICAgID8gbGlbbGkubGVuZ3RoIC0xXVxuICAgICAgICAgICAgICAgICAgIDogbGk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBzb21lIGNvbnRlbnQgaW4gdGhpcyBsaXN0LCBhZGQgdGhlIG5ldyBsaW5lIGluXG4gICAgICAgIGlmICggbmwgJiYgbGkubGVuZ3RoID4gMSApIGlubGluZS51bnNoaWZ0KG5sKTtcblxuICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBpbmxpbmUubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgdmFyIHdoYXQgPSBpbmxpbmVbaV0sXG4gICAgICAgICAgICAgIGlzX3N0ciA9IHR5cGVvZiB3aGF0ID09IFwic3RyaW5nXCI7XG4gICAgICAgICAgaWYgKCBpc19zdHIgJiYgYWRkX3RvLmxlbmd0aCA+IDEgJiYgdHlwZW9mIGFkZF90b1thZGRfdG8ubGVuZ3RoLTFdID09IFwic3RyaW5nXCIgKSB7XG4gICAgICAgICAgICBhZGRfdG9bIGFkZF90by5sZW5ndGgtMSBdICs9IHdoYXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWRkX3RvLnB1c2goIHdoYXQgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29udGFpbmVkIG1lYW5zIGhhdmUgYW4gaW5kZW50IGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBvbmUuIE9uXG4gICAgICAvLyAqZXZlcnkqIGxpbmUgaW4gdGhlIGJsb2NrXG4gICAgICBmdW5jdGlvbiBnZXRfY29udGFpbmVkX2Jsb2NrcyggZGVwdGgsIGJsb2NrcyApIHtcblxuICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpbmRlbnRfcmUgKyBcIntcIiArIGRlcHRoICsgXCJ9Lio/XFxcXG4/KSokXCIgKSxcbiAgICAgICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKFwiXlwiICsgaW5kZW50X3JlICsgXCJ7XCIgKyBkZXB0aCArIFwifVwiLCBcImdtXCIpLFxuICAgICAgICAgICAgcmV0ID0gW107XG5cbiAgICAgICAgd2hpbGUgKCBibG9ja3MubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICBpZiAoIHJlLmV4ZWMoIGJsb2Nrc1swXSApICkge1xuICAgICAgICAgICAgdmFyIGIgPSBibG9ja3Muc2hpZnQoKSxcbiAgICAgICAgICAgICAgICAvLyBOb3cgcmVtb3ZlIHRoYXQgaW5kZW50XG4gICAgICAgICAgICAgICAgeCA9IGIucmVwbGFjZSggcmVwbGFjZSwgXCJcIik7XG5cbiAgICAgICAgICAgIHJldC5wdXNoKCBta19ibG9jayggeCwgYi50cmFpbGluZywgYi5saW5lTnVtYmVyICkgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cblxuICAgICAgLy8gcGFzc2VkIHRvIHN0YWNrLmZvckVhY2ggdG8gdHVybiBsaXN0IGl0ZW1zIHVwIHRoZSBzdGFjayBpbnRvIHBhcmFzXG4gICAgICBmdW5jdGlvbiBwYXJhZ3JhcGhpZnkocywgaSwgc3RhY2spIHtcbiAgICAgICAgdmFyIGxpc3QgPSBzLmxpc3Q7XG4gICAgICAgIHZhciBsYXN0X2xpID0gbGlzdFtsaXN0Lmxlbmd0aC0xXTtcblxuICAgICAgICBpZiAoIGxhc3RfbGlbMV0gaW5zdGFuY2VvZiBBcnJheSAmJiBsYXN0X2xpWzFdWzBdID09IFwicGFyYVwiICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIGkgKyAxID09IHN0YWNrLmxlbmd0aCApIHtcbiAgICAgICAgICAvLyBMYXN0IHN0YWNrIGZyYW1lXG4gICAgICAgICAgLy8gS2VlcCB0aGUgc2FtZSBhcnJheSwgYnV0IHJlcGxhY2UgdGhlIGNvbnRlbnRzXG4gICAgICAgICAgbGFzdF9saS5wdXNoKCBbXCJwYXJhXCJdLmNvbmNhdCggbGFzdF9saS5zcGxpY2UoMSwgbGFzdF9saS5sZW5ndGggLSAxKSApICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHN1Ymxpc3QgPSBsYXN0X2xpLnBvcCgpO1xuICAgICAgICAgIGxhc3RfbGkucHVzaCggW1wicGFyYVwiXS5jb25jYXQoIGxhc3RfbGkuc3BsaWNlKDEsIGxhc3RfbGkubGVuZ3RoIC0gMSkgKSwgc3VibGlzdCApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBtYXRjaGVyIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gZnVuY3Rpb24oIGJsb2NrLCBuZXh0ICkge1xuICAgICAgICB2YXIgbSA9IGJsb2NrLm1hdGNoKCBpc19saXN0X3JlICk7XG4gICAgICAgIGlmICggIW0gKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VfbGlzdCggbSApIHtcbiAgICAgICAgICB2YXIgbGlzdCA9IGJ1bGxldF9saXN0LmV4ZWMoIG1bMl0gKVxuICAgICAgICAgICAgICAgICAgID8gW1wiYnVsbGV0bGlzdFwiXVxuICAgICAgICAgICAgICAgICAgIDogW1wibnVtYmVybGlzdFwiXTtcblxuICAgICAgICAgIHN0YWNrLnB1c2goIHsgbGlzdDogbGlzdCwgaW5kZW50OiBtWzFdIH0gKTtcbiAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIHN0YWNrID0gW10sIC8vIFN0YWNrIG9mIGxpc3RzIGZvciBuZXN0aW5nLlxuICAgICAgICAgICAgbGlzdCA9IG1ha2VfbGlzdCggbSApLFxuICAgICAgICAgICAgbGFzdF9saSxcbiAgICAgICAgICAgIGxvb3NlID0gZmFsc2UsXG4gICAgICAgICAgICByZXQgPSBbIHN0YWNrWzBdLmxpc3QgXSxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gTG9vcCB0byBzZWFyY2ggb3ZlciBibG9jayBsb29raW5nIGZvciBpbm5lciBibG9jayBlbGVtZW50cyBhbmQgbG9vc2UgbGlzdHNcbiAgICAgICAgbG9vc2Vfc2VhcmNoOlxuICAgICAgICB3aGlsZSAoIHRydWUgKSB7XG4gICAgICAgICAgLy8gU3BsaXQgaW50byBsaW5lcyBwcmVzZXJ2aW5nIG5ldyBsaW5lcyBhdCBlbmQgb2YgbGluZVxuICAgICAgICAgIHZhciBsaW5lcyA9IGJsb2NrLnNwbGl0KCAvKD89XFxuKS8gKTtcblxuICAgICAgICAgIC8vIFdlIGhhdmUgdG8gZ3JhYiBhbGwgbGluZXMgZm9yIGEgbGkgYW5kIGNhbGwgcHJvY2Vzc0lubGluZSBvbiB0aGVtXG4gICAgICAgICAgLy8gb25jZSBhcyB0aGVyZSBhcmUgc29tZSBpbmxpbmUgdGhpbmdzIHRoYXQgY2FuIHNwYW4gbGluZXMuXG4gICAgICAgICAgdmFyIGxpX2FjY3VtdWxhdGUgPSBcIlwiO1xuXG4gICAgICAgICAgLy8gTG9vcCBvdmVyIHRoZSBsaW5lcyBpbiB0aGlzIGJsb2NrIGxvb2tpbmcgZm9yIHRpZ2h0IGxpc3RzLlxuICAgICAgICAgIHRpZ2h0X3NlYXJjaDpcbiAgICAgICAgICBmb3IgKCB2YXIgbGluZV9ubyA9IDA7IGxpbmVfbm8gPCBsaW5lcy5sZW5ndGg7IGxpbmVfbm8rKyApIHtcbiAgICAgICAgICAgIHZhciBubCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgbCA9IGxpbmVzW2xpbmVfbm9dLnJlcGxhY2UoL15cXG4vLCBmdW5jdGlvbihuKSB7IG5sID0gbjsgcmV0dXJuIFwiXCI7IH0pO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiByZWFsbHkgc2hvdWxkIGNhY2hlIHRoaXNcbiAgICAgICAgICAgIHZhciBsaW5lX3JlID0gcmVnZXhfZm9yX2RlcHRoKCBzdGFjay5sZW5ndGggKTtcblxuICAgICAgICAgICAgbSA9IGwubWF0Y2goIGxpbmVfcmUgKTtcbiAgICAgICAgICAgIC8vcHJpbnQoIFwibGluZTpcIiwgdW5ldmFsKGwpLCBcIlxcbmxpbmUgbWF0Y2g6XCIsIHVuZXZhbChtKSApO1xuXG4gICAgICAgICAgICAvLyBXZSBoYXZlIGEgbGlzdCBpdGVtXG4gICAgICAgICAgICBpZiAoIG1bMV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgcHJldmlvdXMgbGlzdCBpdGVtLCBpZiBhbnlcbiAgICAgICAgICAgICAgaWYgKCBsaV9hY2N1bXVsYXRlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICBhZGQoIGxhc3RfbGksIGxvb3NlLCB0aGlzLnByb2Nlc3NJbmxpbmUoIGxpX2FjY3VtdWxhdGUgKSwgbmwgKTtcbiAgICAgICAgICAgICAgICAvLyBMb29zZSBtb2RlIHdpbGwgaGF2ZSBiZWVuIGRlYWx0IHdpdGguIFJlc2V0IGl0XG4gICAgICAgICAgICAgICAgbG9vc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaV9hY2N1bXVsYXRlID0gXCJcIjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG1bMV0gPSBleHBhbmRfdGFiKCBtWzFdICk7XG4gICAgICAgICAgICAgIHZhciB3YW50ZWRfZGVwdGggPSBNYXRoLmZsb29yKG1bMV0ubGVuZ3RoLzQpKzE7XG4gICAgICAgICAgICAgIC8vcHJpbnQoIFwid2FudDpcIiwgd2FudGVkX2RlcHRoLCBcInN0YWNrOlwiLCBzdGFjay5sZW5ndGgpO1xuICAgICAgICAgICAgICBpZiAoIHdhbnRlZF9kZXB0aCA+IHN0YWNrLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAvLyBEZWVwIGVub3VnaCBmb3IgYSBuZXN0ZWQgbGlzdCBvdXRyaWdodFxuICAgICAgICAgICAgICAgIC8vcHJpbnQgKCBcIm5ldyBuZXN0ZWQgbGlzdFwiICk7XG4gICAgICAgICAgICAgICAgbGlzdCA9IG1ha2VfbGlzdCggbSApO1xuICAgICAgICAgICAgICAgIGxhc3RfbGkucHVzaCggbGlzdCApO1xuICAgICAgICAgICAgICAgIGxhc3RfbGkgPSBsaXN0WzFdID0gWyBcImxpc3RpdGVtXCIgXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmVuJ3QgZGVlcCBlbm91Z2ggdG8gYmUgc3RyaWN0bHkgYSBuZXcgbGV2ZWwuIFRoaXMgaXNcbiAgICAgICAgICAgICAgICAvLyB3aGVyZSBNZC5wbCBnb2VzIG51dHMuIElmIHRoZSBpbmRlbnQgbWF0Y2hlcyBhIGxldmVsIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIHN0YWNrLCBwdXQgaXQgdGhlcmUsIGVsc2UgcHV0IGl0IG9uZSBkZWVwZXIgdGhlbiB0aGVcbiAgICAgICAgICAgICAgICAvLyB3YW50ZWRfZGVwdGggZGVzZXJ2ZXMuXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgIGlmICggc3RhY2tbIGkgXS5pbmRlbnQgIT0gbVsxXSApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgbGlzdCA9IHN0YWNrWyBpIF0ubGlzdDtcbiAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZSggaSsxLCBzdGFjay5sZW5ndGggLSAoaSsxKSApO1xuICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgLy9wcmludChcIm5vdCBmb3VuZC4gbDpcIiwgdW5ldmFsKGwpKTtcbiAgICAgICAgICAgICAgICAgIHdhbnRlZF9kZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgaWYgKCB3YW50ZWRfZGVwdGggPD0gc3RhY2subGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2Uod2FudGVkX2RlcHRoLCBzdGFjay5sZW5ndGggLSB3YW50ZWRfZGVwdGgpO1xuICAgICAgICAgICAgICAgICAgICAvL3ByaW50KFwiRGVzaXJlZCBkZXB0aCBub3dcIiwgd2FudGVkX2RlcHRoLCBcInN0YWNrOlwiLCBzdGFjay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gc3RhY2tbd2FudGVkX2RlcHRoLTFdLmxpc3Q7XG4gICAgICAgICAgICAgICAgICAgIC8vcHJpbnQoXCJsaXN0OlwiLCB1bmV2YWwobGlzdCkgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL3ByaW50IChcIm1hZGUgbmV3IHN0YWNrIGZvciBtZXNzeSBpbmRlbnRcIik7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBtYWtlX2xpc3QobSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RfbGkucHVzaChsaXN0KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL3ByaW50KCB1bmV2YWwobGlzdCksIFwibGFzdFwiLCBsaXN0ID09PSBzdGFja1tzdGFjay5sZW5ndGgtMV0ubGlzdCApO1xuICAgICAgICAgICAgICAgIGxhc3RfbGkgPSBbIFwibGlzdGl0ZW1cIiBdO1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChsYXN0X2xpKTtcbiAgICAgICAgICAgICAgfSAvLyBlbmQgZGVwdGggb2Ygc2hlbmVnYWluc1xuICAgICAgICAgICAgICBubCA9IFwiXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBjb250ZW50XG4gICAgICAgICAgICBpZiAoIGwubGVuZ3RoID4gbVswXS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgIGxpX2FjY3VtdWxhdGUgKz0gbmwgKyBsLnN1YnN0ciggbVswXS5sZW5ndGggKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIHRpZ2h0X3NlYXJjaFxuXG4gICAgICAgICAgaWYgKCBsaV9hY2N1bXVsYXRlLmxlbmd0aCApIHtcbiAgICAgICAgICAgIGFkZCggbGFzdF9saSwgbG9vc2UsIHRoaXMucHJvY2Vzc0lubGluZSggbGlfYWNjdW11bGF0ZSApLCBubCApO1xuICAgICAgICAgICAgLy8gTG9vc2UgbW9kZSB3aWxsIGhhdmUgYmVlbiBkZWFsdCB3aXRoLiBSZXNldCBpdFxuICAgICAgICAgICAgbG9vc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGxpX2FjY3VtdWxhdGUgPSBcIlwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIExvb2sgYXQgdGhlIG5leHQgYmxvY2sgLSB3ZSBtaWdodCBoYXZlIGEgbG9vc2UgbGlzdC4gT3IgYW4gZXh0cmFcbiAgICAgICAgICAvLyBwYXJhZ3JhcGggZm9yIHRoZSBjdXJyZW50IGxpXG4gICAgICAgICAgdmFyIGNvbnRhaW5lZCA9IGdldF9jb250YWluZWRfYmxvY2tzKCBzdGFjay5sZW5ndGgsIG5leHQgKTtcblxuICAgICAgICAgIC8vIERlYWwgd2l0aCBjb2RlIGJsb2NrcyBvciBwcm9wZXJseSBuZXN0ZWQgbGlzdHNcbiAgICAgICAgICBpZiAoIGNvbnRhaW5lZC5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCBsaXN0aXRlbXMgdXAgdGhlIHN0YWNrIGFyZSBwYXJhZ3JhcGhzXG4gICAgICAgICAgICBmb3JFYWNoKCBzdGFjaywgcGFyYWdyYXBoaWZ5LCB0aGlzKTtcblxuICAgICAgICAgICAgbGFzdF9saS5wdXNoLmFwcGx5KCBsYXN0X2xpLCB0aGlzLnRvVHJlZSggY29udGFpbmVkLCBbXSApICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG5leHRfYmxvY2sgPSBuZXh0WzBdICYmIG5leHRbMF0udmFsdWVPZigpIHx8IFwiXCI7XG5cbiAgICAgICAgICBpZiAoIG5leHRfYmxvY2subWF0Y2goaXNfbGlzdF9yZSkgfHwgbmV4dF9ibG9jay5tYXRjaCggL14gLyApICkge1xuICAgICAgICAgICAgYmxvY2sgPSBuZXh0LnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBhbiBIUiBmb2xsb3dpbmcgYSBsaXN0OiBmZWF0dXJlcy9saXN0cy9ocl9hYnV0dGluZ1xuICAgICAgICAgICAgdmFyIGhyID0gdGhpcy5kaWFsZWN0LmJsb2NrLmhvcml6UnVsZSggYmxvY2ssIG5leHQgKTtcblxuICAgICAgICAgICAgaWYgKCBociApIHtcbiAgICAgICAgICAgICAgcmV0LnB1c2guYXBwbHkocmV0LCBocik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIGxpc3RpdGVtcyB1cCB0aGUgc3RhY2sgYXJlIHBhcmFncmFwaHNcbiAgICAgICAgICAgIGZvckVhY2goIHN0YWNrLCBwYXJhZ3JhcGhpZnksIHRoaXMpO1xuXG4gICAgICAgICAgICBsb29zZSA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZSBsb29zZV9zZWFyY2g7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIGxvb3NlX3NlYXJjaFxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH0pKCksXG5cbiAgICBibG9ja3F1b3RlOiBmdW5jdGlvbiBibG9ja3F1b3RlKCBibG9jaywgbmV4dCApIHtcbiAgICAgIGlmICggIWJsb2NrLm1hdGNoKCAvXj4vbSApIClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGpzb25tbCA9IFtdO1xuXG4gICAgICAvLyBzZXBhcmF0ZSBvdXQgdGhlIGxlYWRpbmcgYWJ1dHRpbmcgYmxvY2ssIGlmIGFueS4gSS5lLiBpbiB0aGlzIGNhc2U6XG4gICAgICAvL1xuICAgICAgLy8gIGFcbiAgICAgIC8vICA+IGJcbiAgICAgIC8vXG4gICAgICBpZiAoIGJsb2NrWyAwIF0gIT0gXCI+XCIgKSB7XG4gICAgICAgIHZhciBsaW5lcyA9IGJsb2NrLnNwbGl0KCAvXFxuLyApLFxuICAgICAgICAgICAgcHJldiA9IFtdLFxuICAgICAgICAgICAgbGluZV9ubyA9IGJsb2NrLmxpbmVOdW1iZXI7XG5cbiAgICAgICAgLy8ga2VlcCBzaGlmdGluZyBsaW5lcyB1bnRpbCB5b3UgZmluZCBhIGNyb3RjaGV0XG4gICAgICAgIHdoaWxlICggbGluZXMubGVuZ3RoICYmIGxpbmVzWyAwIF1bIDAgXSAhPSBcIj5cIiApIHtcbiAgICAgICAgICAgIHByZXYucHVzaCggbGluZXMuc2hpZnQoKSApO1xuICAgICAgICAgICAgbGluZV9ubysrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFidXR0aW5nID0gbWtfYmxvY2soIHByZXYuam9pbiggXCJcXG5cIiApLCBcIlxcblwiLCBibG9jay5saW5lTnVtYmVyICk7XG4gICAgICAgIGpzb25tbC5wdXNoLmFwcGx5KCBqc29ubWwsIHRoaXMucHJvY2Vzc0Jsb2NrKCBhYnV0dGluZywgW10gKSApO1xuICAgICAgICAvLyByZWFzc2VtYmxlIG5ldyBibG9jayBvZiBqdXN0IGJsb2NrIHF1b3RlcyFcbiAgICAgICAgYmxvY2sgPSBta19ibG9jayggbGluZXMuam9pbiggXCJcXG5cIiApLCBibG9jay50cmFpbGluZywgbGluZV9ubyApO1xuICAgICAgfVxuXG5cbiAgICAgIC8vIGlmIHRoZSBuZXh0IGJsb2NrIGlzIGFsc28gYSBibG9ja3F1b3RlIG1lcmdlIGl0IGluXG4gICAgICB3aGlsZSAoIG5leHQubGVuZ3RoICYmIG5leHRbIDAgXVsgMCBdID09IFwiPlwiICkge1xuICAgICAgICB2YXIgYiA9IG5leHQuc2hpZnQoKTtcbiAgICAgICAgYmxvY2sgPSBta19ibG9jayggYmxvY2sgKyBibG9jay50cmFpbGluZyArIGIsIGIudHJhaWxpbmcsIGJsb2NrLmxpbmVOdW1iZXIgKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RyaXAgb2ZmIHRoZSBsZWFkaW5nIFwiPiBcIiBhbmQgcmUtcHJvY2VzcyBhcyBhIGJsb2NrLlxuICAgICAgdmFyIGlucHV0ID0gYmxvY2sucmVwbGFjZSggL14+ID8vZ20sIFwiXCIgKSxcbiAgICAgICAgICBvbGRfdHJlZSA9IHRoaXMudHJlZSxcbiAgICAgICAgICBwcm9jZXNzZWRCbG9jayA9IHRoaXMudG9UcmVlKCBpbnB1dCwgWyBcImJsb2NrcXVvdGVcIiBdICksXG4gICAgICAgICAgYXR0ciA9IGV4dHJhY3RfYXR0ciggcHJvY2Vzc2VkQmxvY2sgKTtcblxuICAgICAgLy8gSWYgYW55IGxpbmsgcmVmZXJlbmNlcyB3ZXJlIGZvdW5kIGdldCByaWQgb2YgdGhlbVxuICAgICAgaWYgKCBhdHRyICYmIGF0dHIucmVmZXJlbmNlcyApIHtcbiAgICAgICAgZGVsZXRlIGF0dHIucmVmZXJlbmNlcztcbiAgICAgICAgLy8gQW5kIHRoZW4gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgb2JqZWN0IGlmIGl0J3MgZW1wdHlcbiAgICAgICAgaWYgKCBpc0VtcHR5KCBhdHRyICkgKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkQmxvY2suc3BsaWNlKCAxLCAxICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAganNvbm1sLnB1c2goIHByb2Nlc3NlZEJsb2NrICk7XG4gICAgICByZXR1cm4ganNvbm1sO1xuICAgIH0sXG5cbiAgICByZWZlcmVuY2VEZWZuOiBmdW5jdGlvbiByZWZlcmVuY2VEZWZuKCBibG9jaywgbmV4dCkge1xuICAgICAgdmFyIHJlID0gL15cXHMqXFxbKC4qPylcXF06XFxzKihcXFMrKSg/OlxccysoPzooWydcIl0pKC4qPylcXDN8XFwoKC4qPylcXCkpKT9cXG4/LztcbiAgICAgIC8vIGludGVyZXN0aW5nIG1hdGNoZXMgYXJlIFsgLCByZWZfaWQsIHVybCwgLCB0aXRsZSwgdGl0bGUgXVxuXG4gICAgICBpZiAoICFibG9jay5tYXRjaChyZSkgKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBtYWtlIGFuIGF0dHJpYnV0ZSBub2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgIGlmICggIWV4dHJhY3RfYXR0ciggdGhpcy50cmVlICkgKSB7XG4gICAgICAgIHRoaXMudHJlZS5zcGxpY2UoIDEsIDAsIHt9ICk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhdHRycyA9IGV4dHJhY3RfYXR0ciggdGhpcy50cmVlICk7XG5cbiAgICAgIC8vIG1ha2UgYSByZWZlcmVuY2VzIGhhc2ggaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgaWYgKCBhdHRycy5yZWZlcmVuY2VzID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgIGF0dHJzLnJlZmVyZW5jZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdmFyIGIgPSB0aGlzLmxvb3BfcmVfb3Zlcl9ibG9jayhyZSwgYmxvY2ssIGZ1bmN0aW9uKCBtICkge1xuXG4gICAgICAgIGlmICggbVsyXSAmJiBtWzJdWzBdID09IFwiPFwiICYmIG1bMl1bbVsyXS5sZW5ndGgtMV0gPT0gXCI+XCIgKVxuICAgICAgICAgIG1bMl0gPSBtWzJdLnN1YnN0cmluZyggMSwgbVsyXS5sZW5ndGggLSAxICk7XG5cbiAgICAgICAgdmFyIHJlZiA9IGF0dHJzLnJlZmVyZW5jZXNbIG1bMV0udG9Mb3dlckNhc2UoKSBdID0ge1xuICAgICAgICAgIGhyZWY6IG1bMl1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIG1bNF0gIT09IHVuZGVmaW5lZCApXG4gICAgICAgICAgcmVmLnRpdGxlID0gbVs0XTtcbiAgICAgICAgZWxzZSBpZiAoIG1bNV0gIT09IHVuZGVmaW5lZCApXG4gICAgICAgICAgcmVmLnRpdGxlID0gbVs1XTtcblxuICAgICAgfSApO1xuXG4gICAgICBpZiAoIGIubGVuZ3RoIClcbiAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayggYiwgYmxvY2sudHJhaWxpbmcgKSApO1xuXG4gICAgICByZXR1cm4gW107XG4gICAgfSxcblxuICAgIHBhcmE6IGZ1bmN0aW9uIHBhcmEoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgLy8gZXZlcnl0aGluZydzIGEgcGFyYSFcbiAgICAgIHJldHVybiBbIFtcInBhcmFcIl0uY29uY2F0KCB0aGlzLnByb2Nlc3NJbmxpbmUoIGJsb2NrICkgKSBdO1xuICAgIH1cbiAgfVxufTtcblxuTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyLmlubGluZSA9IHtcblxuICAgIF9fb25lRWxlbWVudF9fOiBmdW5jdGlvbiBvbmVFbGVtZW50KCB0ZXh0LCBwYXR0ZXJuc19vcl9yZSwgcHJldmlvdXNfbm9kZXMgKSB7XG4gICAgICB2YXIgbSxcbiAgICAgICAgICByZXMsXG4gICAgICAgICAgbGFzdEluZGV4ID0gMDtcblxuICAgICAgcGF0dGVybnNfb3JfcmUgPSBwYXR0ZXJuc19vcl9yZSB8fCB0aGlzLmRpYWxlY3QuaW5saW5lLl9fcGF0dGVybnNfXztcbiAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoIFwiKFtcXFxcc1xcXFxTXSo/KShcIiArIChwYXR0ZXJuc19vcl9yZS5zb3VyY2UgfHwgcGF0dGVybnNfb3JfcmUpICsgXCIpXCIgKTtcblxuICAgICAgbSA9IHJlLmV4ZWMoIHRleHQgKTtcbiAgICAgIGlmICghbSkge1xuICAgICAgICAvLyBKdXN0IGJvcmluZyB0ZXh0XG4gICAgICAgIHJldHVybiBbIHRleHQubGVuZ3RoLCB0ZXh0IF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmICggbVsxXSApIHtcbiAgICAgICAgLy8gU29tZSB1bi1pbnRlcmVzdGluZyB0ZXh0IG1hdGNoZWQuIFJldHVybiB0aGF0IGZpcnN0XG4gICAgICAgIHJldHVybiBbIG1bMV0ubGVuZ3RoLCBtWzFdIF07XG4gICAgICB9XG5cbiAgICAgIHZhciByZXM7XG4gICAgICBpZiAoIG1bMl0gaW4gdGhpcy5kaWFsZWN0LmlubGluZSApIHtcbiAgICAgICAgcmVzID0gdGhpcy5kaWFsZWN0LmlubGluZVsgbVsyXSBdLmNhbGwoXG4gICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgdGV4dC5zdWJzdHIoIG0uaW5kZXggKSwgbSwgcHJldmlvdXNfbm9kZXMgfHwgW10gKTtcbiAgICAgIH1cbiAgICAgIC8vIERlZmF1bHQgZm9yIG5vdyB0byBtYWtlIGRldiBlYXNpZXIuIGp1c3Qgc2x1cnAgc3BlY2lhbCBhbmQgb3V0cHV0IGl0LlxuICAgICAgcmVzID0gcmVzIHx8IFsgbVsyXS5sZW5ndGgsIG1bMl0gXTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIF9fY2FsbF9fOiBmdW5jdGlvbiBpbmxpbmUoIHRleHQsIHBhdHRlcm5zICkge1xuXG4gICAgICB2YXIgb3V0ID0gW10sXG4gICAgICAgICAgcmVzO1xuXG4gICAgICBmdW5jdGlvbiBhZGQoeCkge1xuICAgICAgICAvL0Q6c2VsZi5kZWJ1ZyhcIiAgYWRkaW5nIG91dHB1dFwiLCB1bmV2YWwoeCkpO1xuICAgICAgICBpZiAoIHR5cGVvZiB4ID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG91dFtvdXQubGVuZ3RoLTFdID09IFwic3RyaW5nXCIgKVxuICAgICAgICAgIG91dFsgb3V0Lmxlbmd0aC0xIF0gKz0geDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG91dC5wdXNoKHgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoIHRleHQubGVuZ3RoID4gMCApIHtcbiAgICAgICAgcmVzID0gdGhpcy5kaWFsZWN0LmlubGluZS5fX29uZUVsZW1lbnRfXy5jYWxsKHRoaXMsIHRleHQsIHBhdHRlcm5zLCBvdXQgKTtcbiAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyKCByZXMuc2hpZnQoKSApO1xuICAgICAgICBmb3JFYWNoKHJlcywgYWRkIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9LFxuXG4gICAgLy8gVGhlc2UgY2hhcmFjdGVycyBhcmUgaW50ZXJzdGluZyBlbHNld2hlcmUsIHNvIGhhdmUgcnVsZXMgZm9yIHRoZW0gc28gdGhhdFxuICAgIC8vIGNodW5rcyBvZiBwbGFpbiB0ZXh0IGJsb2NrcyBkb24ndCBpbmNsdWRlIHRoZW1cbiAgICBcIl1cIjogZnVuY3Rpb24gKCkge30sXG4gICAgXCJ9XCI6IGZ1bmN0aW9uICgpIHt9LFxuXG4gICAgX19lc2NhcGVfXyA6IC9eXFxcXFtcXFxcYFxcKl97fVxcW1xcXSgpI1xcKy4hXFwtXS8sXG5cbiAgICBcIlxcXFxcIjogZnVuY3Rpb24gZXNjYXBlZCggdGV4dCApIHtcbiAgICAgIC8vIFsgbGVuZ3RoIG9mIGlucHV0IHByb2Nlc3NlZCwgbm9kZS9jaGlsZHJlbiB0byBhZGQuLi4gXVxuICAgICAgLy8gT25seSBlc2FjYXBlOiBcXCBgICogXyB7IH0gWyBdICggKSAjICogKyAtIC4gIVxuICAgICAgaWYgKCB0aGlzLmRpYWxlY3QuaW5saW5lLl9fZXNjYXBlX18uZXhlYyggdGV4dCApIClcbiAgICAgICAgcmV0dXJuIFsgMiwgdGV4dC5jaGFyQXQoIDEgKSBdO1xuICAgICAgZWxzZVxuICAgICAgICAvLyBOb3QgYW4gZXNhY3BlXG4gICAgICAgIHJldHVybiBbIDEsIFwiXFxcXFwiIF07XG4gICAgfSxcblxuICAgIFwiIVtcIjogZnVuY3Rpb24gaW1hZ2UoIHRleHQgKSB7XG5cbiAgICAgIC8vIFVubGlrZSBpbWFnZXMsIGFsdCB0ZXh0IGlzIHBsYWluIHRleHQgb25seS4gbm8gb3RoZXIgZWxlbWVudHMgYXJlXG4gICAgICAvLyBhbGxvd2VkIGluIHRoZXJlXG5cbiAgICAgIC8vICFbQWx0IHRleHRdKC9wYXRoL3RvL2ltZy5qcGcgXCJPcHRpb25hbCB0aXRsZVwiKVxuICAgICAgLy8gICAgICAxICAgICAgICAgIDIgICAgICAgICAgICAzICAgICAgIDQgICAgICAgICA8LS0tIGNhcHR1cmVzXG4gICAgICB2YXIgbSA9IHRleHQubWF0Y2goIC9eIVxcWyguKj8pXFxdWyBcXHRdKlxcKFsgXFx0XSooW15cIildKj8pKD86WyBcXHRdKyhbXCInXSkoLio/KVxcMyk/WyBcXHRdKlxcKS8gKTtcblxuICAgICAgaWYgKCBtICkge1xuICAgICAgICBpZiAoIG1bMl0gJiYgbVsyXVswXSA9PSBcIjxcIiAmJiBtWzJdW21bMl0ubGVuZ3RoLTFdID09IFwiPlwiIClcbiAgICAgICAgICBtWzJdID0gbVsyXS5zdWJzdHJpbmcoIDEsIG1bMl0ubGVuZ3RoIC0gMSApO1xuXG4gICAgICAgIG1bMl0gPSB0aGlzLmRpYWxlY3QuaW5saW5lLl9fY2FsbF9fLmNhbGwoIHRoaXMsIG1bMl0sIC9cXFxcLyApWzBdO1xuXG4gICAgICAgIHZhciBhdHRycyA9IHsgYWx0OiBtWzFdLCBocmVmOiBtWzJdIHx8IFwiXCIgfTtcbiAgICAgICAgaWYgKCBtWzRdICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgYXR0cnMudGl0bGUgPSBtWzRdO1xuXG4gICAgICAgIHJldHVybiBbIG1bMF0ubGVuZ3RoLCBbIFwiaW1nXCIsIGF0dHJzIF0gXTtcbiAgICAgIH1cblxuICAgICAgLy8gIVtBbHQgdGV4dF1baWRdXG4gICAgICBtID0gdGV4dC5tYXRjaCggL14hXFxbKC4qPylcXF1bIFxcdF0qXFxbKC4qPylcXF0vICk7XG5cbiAgICAgIGlmICggbSApIHtcbiAgICAgICAgLy8gV2UgY2FuJ3QgY2hlY2sgaWYgdGhlIHJlZmVyZW5jZSBpcyBrbm93biBoZXJlIGFzIGl0IGxpa2VseSB3b250IGJlXG4gICAgICAgIC8vIGZvdW5kIHRpbGwgYWZ0ZXIuIENoZWNrIGl0IGluIG1kIHRyZWUtPmhtdGwgdHJlZSBjb252ZXJzaW9uXG4gICAgICAgIHJldHVybiBbIG1bMF0ubGVuZ3RoLCBbIFwiaW1nX3JlZlwiLCB7IGFsdDogbVsxXSwgcmVmOiBtWzJdLnRvTG93ZXJDYXNlKCksIG9yaWdpbmFsOiBtWzBdIH0gXSBdO1xuICAgICAgfVxuXG4gICAgICAvLyBKdXN0IGNvbnN1bWUgdGhlICchWydcbiAgICAgIHJldHVybiBbIDIsIFwiIVtcIiBdO1xuICAgIH0sXG5cbiAgICBcIltcIjogZnVuY3Rpb24gbGluayggdGV4dCApIHtcblxuICAgICAgdmFyIG9yaWcgPSBTdHJpbmcodGV4dCk7XG4gICAgICAvLyBJbmxpbmUgY29udGVudCBpcyBwb3NzaWJsZSBpbnNpZGUgYGxpbmsgdGV4dGBcbiAgICAgIHZhciByZXMgPSBNYXJrZG93bi5EaWFsZWN0SGVscGVycy5pbmxpbmVfdW50aWxfY2hhci5jYWxsKCB0aGlzLCB0ZXh0LnN1YnN0cigxKSwgXCJdXCIgKTtcblxuICAgICAgLy8gTm8gY2xvc2luZyAnXScgZm91bmQuIEp1c3QgY29uc3VtZSB0aGUgW1xuICAgICAgaWYgKCAhcmVzICkgcmV0dXJuIFsgMSwgXCJbXCIgXTtcblxuICAgICAgdmFyIGNvbnN1bWVkID0gMSArIHJlc1sgMCBdLFxuICAgICAgICAgIGNoaWxkcmVuID0gcmVzWyAxIF0sXG4gICAgICAgICAgbGluayxcbiAgICAgICAgICBhdHRycztcblxuICAgICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgZmlyc3QgWy4uLl0gaGFzIGJlZW4gcGFyc2VkLiBTZWUgd2hhdCBmb2xsb3dzIHRvIGZpbmRcbiAgICAgIC8vIG91dCB3aGljaCBraW5kIG9mIGxpbmsgd2UgYXJlIChyZWZlcmVuY2Ugb3IgZGlyZWN0IHVybClcbiAgICAgIHRleHQgPSB0ZXh0LnN1YnN0ciggY29uc3VtZWQgKTtcblxuICAgICAgLy8gW2xpbmsgdGV4dF0oL3BhdGgvdG8vaW1nLmpwZyBcIk9wdGlvbmFsIHRpdGxlXCIpXG4gICAgICAvLyAgICAgICAgICAgICAgICAgMSAgICAgICAgICAgIDIgICAgICAgMyAgICAgICAgIDwtLS0gY2FwdHVyZXNcbiAgICAgIC8vIFRoaXMgd2lsbCBjYXB0dXJlIHVwIHRvIHRoZSBsYXN0IHBhcmVuIGluIHRoZSBibG9jay4gV2UgdGhlbiBwdWxsXG4gICAgICAvLyBiYWNrIGJhc2VkIG9uIGlmIHRoZXJlIGEgbWF0Y2hpbmcgb25lcyBpbiB0aGUgdXJsXG4gICAgICAvLyAgICAoW2hlcmVdKC91cmwvKHRlc3QpKVxuICAgICAgLy8gVGhlIHBhcmVucyBoYXZlIHRvIGJlIGJhbGFuY2VkXG4gICAgICB2YXIgbSA9IHRleHQubWF0Y2goIC9eXFxzKlxcKFsgXFx0XSooW15cIiddKikoPzpbIFxcdF0rKFtcIiddKSguKj8pXFwyKT9bIFxcdF0qXFwpLyApO1xuICAgICAgaWYgKCBtICkge1xuICAgICAgICB2YXIgdXJsID0gbVsxXTtcbiAgICAgICAgY29uc3VtZWQgKz0gbVswXS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCB1cmwgJiYgdXJsWzBdID09IFwiPFwiICYmIHVybFt1cmwubGVuZ3RoLTFdID09IFwiPlwiIClcbiAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKCAxLCB1cmwubGVuZ3RoIC0gMSApO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgdGl0bGUgd2UgZG9uJ3QgaGF2ZSB0byB3b3JyeSBhYm91dCBwYXJlbnMgaW4gdGhlIHVybFxuICAgICAgICBpZiAoICFtWzNdICkge1xuICAgICAgICAgIHZhciBvcGVuX3BhcmVucyA9IDE7IC8vIE9uZSBvcGVuIHRoYXQgaXNuJ3QgaW4gdGhlIGNhcHR1cmVcbiAgICAgICAgICBmb3IgKCB2YXIgbGVuID0gMDsgbGVuIDwgdXJsLmxlbmd0aDsgbGVuKysgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKCB1cmxbbGVuXSApIHtcbiAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgIG9wZW5fcGFyZW5zKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIilcIjpcbiAgICAgICAgICAgICAgaWYgKCAtLW9wZW5fcGFyZW5zID09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdW1lZCAtPSB1cmwubGVuZ3RoIC0gbGVuO1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgbGVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcm9jZXNzIGVzY2FwZXMgb25seVxuICAgICAgICB1cmwgPSB0aGlzLmRpYWxlY3QuaW5saW5lLl9fY2FsbF9fLmNhbGwoIHRoaXMsIHVybCwgL1xcXFwvIClbMF07XG5cbiAgICAgICAgYXR0cnMgPSB7IGhyZWY6IHVybCB8fCBcIlwiIH07XG4gICAgICAgIGlmICggbVszXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGF0dHJzLnRpdGxlID0gbVszXTtcblxuICAgICAgICBsaW5rID0gWyBcImxpbmtcIiwgYXR0cnMgXS5jb25jYXQoIGNoaWxkcmVuICk7XG4gICAgICAgIHJldHVybiBbIGNvbnN1bWVkLCBsaW5rIF07XG4gICAgICB9XG5cbiAgICAgIC8vIFtBbHQgdGV4dF1baWRdXG4gICAgICAvLyBbQWx0IHRleHRdIFtpZF1cbiAgICAgIG0gPSB0ZXh0Lm1hdGNoKCAvXlxccypcXFsoLio/KVxcXS8gKTtcblxuICAgICAgaWYgKCBtICkge1xuXG4gICAgICAgIGNvbnN1bWVkICs9IG1bIDAgXS5sZW5ndGg7XG5cbiAgICAgICAgLy8gW2xpbmtzXVtdIHVzZXMgbGlua3MgYXMgaXRzIHJlZmVyZW5jZVxuICAgICAgICBhdHRycyA9IHsgcmVmOiAoIG1bIDEgXSB8fCBTdHJpbmcoY2hpbGRyZW4pICkudG9Mb3dlckNhc2UoKSwgIG9yaWdpbmFsOiBvcmlnLnN1YnN0ciggMCwgY29uc3VtZWQgKSB9O1xuXG4gICAgICAgIGxpbmsgPSBbIFwibGlua19yZWZcIiwgYXR0cnMgXS5jb25jYXQoIGNoaWxkcmVuICk7XG5cbiAgICAgICAgLy8gV2UgY2FuJ3QgY2hlY2sgaWYgdGhlIHJlZmVyZW5jZSBpcyBrbm93biBoZXJlIGFzIGl0IGxpa2VseSB3b250IGJlXG4gICAgICAgIC8vIGZvdW5kIHRpbGwgYWZ0ZXIuIENoZWNrIGl0IGluIG1kIHRyZWUtPmhtdGwgdHJlZSBjb252ZXJzaW9uLlxuICAgICAgICAvLyBTdG9yZSB0aGUgb3JpZ2luYWwgc28gdGhhdCBjb252ZXJzaW9uIGNhbiByZXZlcnQgaWYgdGhlIHJlZiBpc24ndCBmb3VuZC5cbiAgICAgICAgcmV0dXJuIFsgY29uc3VtZWQsIGxpbmsgXTtcbiAgICAgIH1cblxuICAgICAgLy8gW2lkXVxuICAgICAgLy8gT25seSBpZiBpZCBpcyBwbGFpbiAobm8gZm9ybWF0dGluZy4pXG4gICAgICBpZiAoIGNoaWxkcmVuLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBjaGlsZHJlblswXSA9PSBcInN0cmluZ1wiICkge1xuXG4gICAgICAgIGF0dHJzID0geyByZWY6IGNoaWxkcmVuWzBdLnRvTG93ZXJDYXNlKCksICBvcmlnaW5hbDogb3JpZy5zdWJzdHIoIDAsIGNvbnN1bWVkICkgfTtcbiAgICAgICAgbGluayA9IFsgXCJsaW5rX3JlZlwiLCBhdHRycywgY2hpbGRyZW5bMF0gXTtcbiAgICAgICAgcmV0dXJuIFsgY29uc3VtZWQsIGxpbmsgXTtcbiAgICAgIH1cblxuICAgICAgLy8gSnVzdCBjb25zdW1lIHRoZSBcIltcIlxuICAgICAgcmV0dXJuIFsgMSwgXCJbXCIgXTtcbiAgICB9LFxuXG5cbiAgICBcIjxcIjogZnVuY3Rpb24gYXV0b0xpbmsoIHRleHQgKSB7XG4gICAgICB2YXIgbTtcblxuICAgICAgaWYgKCAoIG0gPSB0ZXh0Lm1hdGNoKCAvXjwoPzooKGh0dHBzP3xmdHB8bWFpbHRvKTpbXj5dKyl8KC4qP0AuKj9cXC5bYS16QS1aXSspKT4vICkgKSAhPSBudWxsICkge1xuICAgICAgICBpZiAoIG1bM10gKSB7XG4gICAgICAgICAgcmV0dXJuIFsgbVswXS5sZW5ndGgsIFsgXCJsaW5rXCIsIHsgaHJlZjogXCJtYWlsdG86XCIgKyBtWzNdIH0sIG1bM10gXSBdO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIG1bMl0gPT0gXCJtYWlsdG9cIiApIHtcbiAgICAgICAgICByZXR1cm4gWyBtWzBdLmxlbmd0aCwgWyBcImxpbmtcIiwgeyBocmVmOiBtWzFdIH0sIG1bMV0uc3Vic3RyKFwibWFpbHRvOlwiLmxlbmd0aCApIF0gXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIFsgbVswXS5sZW5ndGgsIFsgXCJsaW5rXCIsIHsgaHJlZjogbVsxXSB9LCBtWzFdIF0gXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFsgMSwgXCI8XCIgXTtcbiAgICB9LFxuXG4gICAgXCJgXCI6IGZ1bmN0aW9uIGlubGluZUNvZGUoIHRleHQgKSB7XG4gICAgICAvLyBJbmxpbmUgY29kZSBibG9jay4gYXMgbWFueSBiYWNrdGlja3MgYXMgeW91IGxpa2UgdG8gc3RhcnQgaXRcbiAgICAgIC8vIEFsd2F5cyBza2lwIG92ZXIgdGhlIG9wZW5pbmcgdGlja3MuXG4gICAgICB2YXIgbSA9IHRleHQubWF0Y2goIC8oYCspKChbXFxzXFxTXSo/KVxcMSkvICk7XG5cbiAgICAgIGlmICggbSAmJiBtWzJdIClcbiAgICAgICAgcmV0dXJuIFsgbVsxXS5sZW5ndGggKyBtWzJdLmxlbmd0aCwgWyBcImlubGluZWNvZGVcIiwgbVszXSBdIF07XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogTm8gbWF0Y2hpbmcgZW5kIGNvZGUgZm91bmQgLSB3YXJuIVxuICAgICAgICByZXR1cm4gWyAxLCBcImBcIiBdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcIiAgXFxuXCI6IGZ1bmN0aW9uIGxpbmVCcmVhayggdGV4dCApIHtcbiAgICAgIHJldHVybiBbIDMsIFsgXCJsaW5lYnJlYWtcIiBdIF07XG4gICAgfVxuXG59O1xuXG4vLyBNZXRhIEhlbHBlci9nZW5lcmF0b3IgbWV0aG9kIGZvciBlbSBhbmQgc3Ryb25nIGhhbmRsaW5nXG5mdW5jdGlvbiBzdHJvbmdfZW0oIHRhZywgbWQgKSB7XG5cbiAgdmFyIHN0YXRlX3Nsb3QgPSB0YWcgKyBcIl9zdGF0ZVwiLFxuICAgICAgb3RoZXJfc2xvdCA9IHRhZyA9PSBcInN0cm9uZ1wiID8gXCJlbV9zdGF0ZVwiIDogXCJzdHJvbmdfc3RhdGVcIjtcblxuICBmdW5jdGlvbiBDbG9zZVRhZyhsZW4pIHtcbiAgICB0aGlzLmxlbl9hZnRlciA9IGxlbjtcbiAgICB0aGlzLm5hbWUgPSBcImNsb3NlX1wiICsgbWQ7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCB0ZXh0LCBvcmlnX21hdGNoICkge1xuXG4gICAgaWYgKCB0aGlzW3N0YXRlX3Nsb3RdWzBdID09IG1kICkge1xuICAgICAgLy8gTW9zdCByZWNlbnQgZW0gaXMgb2YgdGhpcyB0eXBlXG4gICAgICAvL0Q6dGhpcy5kZWJ1ZyhcImNsb3NpbmdcIiwgbWQpO1xuICAgICAgdGhpc1tzdGF0ZV9zbG90XS5zaGlmdCgpO1xuXG4gICAgICAvLyBcIkNvbnN1bWVcIiBldmVyeXRoaW5nIHRvIGdvIGJhY2sgdG8gdGhlIHJlY3J1c2lvbiBpbiB0aGUgZWxzZS1ibG9jayBiZWxvd1xuICAgICAgcmV0dXJuWyB0ZXh0Lmxlbmd0aCwgbmV3IENsb3NlVGFnKHRleHQubGVuZ3RoLW1kLmxlbmd0aCkgXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBTdG9yZSBhIGNsb25lIG9mIHRoZSBlbS9zdHJvbmcgc3RhdGVzXG4gICAgICB2YXIgb3RoZXIgPSB0aGlzW290aGVyX3Nsb3RdLnNsaWNlKCksXG4gICAgICAgICAgc3RhdGUgPSB0aGlzW3N0YXRlX3Nsb3RdLnNsaWNlKCk7XG5cbiAgICAgIHRoaXNbc3RhdGVfc2xvdF0udW5zaGlmdChtZCk7XG5cbiAgICAgIC8vRDp0aGlzLmRlYnVnX2luZGVudCArPSBcIiAgXCI7XG5cbiAgICAgIC8vIFJlY3Vyc2VcbiAgICAgIHZhciByZXMgPSB0aGlzLnByb2Nlc3NJbmxpbmUoIHRleHQuc3Vic3RyKCBtZC5sZW5ndGggKSApO1xuICAgICAgLy9EOnRoaXMuZGVidWdfaW5kZW50ID0gdGhpcy5kZWJ1Z19pbmRlbnQuc3Vic3RyKDIpO1xuXG4gICAgICB2YXIgbGFzdCA9IHJlc1tyZXMubGVuZ3RoIC0gMV07XG5cbiAgICAgIC8vRDp0aGlzLmRlYnVnKFwicHJvY2Vzc0lubGluZSBmcm9tXCIsIHRhZyArIFwiOiBcIiwgdW5ldmFsKCByZXMgKSApO1xuXG4gICAgICB2YXIgY2hlY2sgPSB0aGlzW3N0YXRlX3Nsb3RdLnNoaWZ0KCk7XG4gICAgICBpZiAoIGxhc3QgaW5zdGFuY2VvZiBDbG9zZVRhZyApIHtcbiAgICAgICAgcmVzLnBvcCgpO1xuICAgICAgICAvLyBXZSBtYXRjaGVkISBIdXp6YWguXG4gICAgICAgIHZhciBjb25zdW1lZCA9IHRleHQubGVuZ3RoIC0gbGFzdC5sZW5fYWZ0ZXI7XG4gICAgICAgIHJldHVybiBbIGNvbnN1bWVkLCBbIHRhZyBdLmNvbmNhdChyZXMpIF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gUmVzdG9yZSB0aGUgc3RhdGUgb2YgdGhlIG90aGVyIGtpbmQuIFdlIG1pZ2h0IGhhdmUgbWlzdGFrZW5seSBjbG9zZWQgaXQuXG4gICAgICAgIHRoaXNbb3RoZXJfc2xvdF0gPSBvdGhlcjtcbiAgICAgICAgdGhpc1tzdGF0ZV9zbG90XSA9IHN0YXRlO1xuXG4gICAgICAgIC8vIFdlIGNhbid0IHJldXNlIHRoZSBwcm9jZXNzZWQgcmVzdWx0IGFzIGl0IGNvdWxkIGhhdmUgd3JvbmcgcGFyc2luZyBjb250ZXh0cyBpbiBpdC5cbiAgICAgICAgcmV0dXJuIFsgbWQubGVuZ3RoLCBtZCBdO1xuICAgICAgfVxuICAgIH1cbiAgfTsgLy8gRW5kIHJldHVybmVkIGZ1bmN0aW9uXG59XG5cbk1hcmtkb3duLmRpYWxlY3RzLkdydWJlci5pbmxpbmVbXCIqKlwiXSA9IHN0cm9uZ19lbShcInN0cm9uZ1wiLCBcIioqXCIpO1xuTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyLmlubGluZVtcIl9fXCJdID0gc3Ryb25nX2VtKFwic3Ryb25nXCIsIFwiX19cIik7XG5NYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuaW5saW5lW1wiKlwiXSAgPSBzdHJvbmdfZW0oXCJlbVwiLCBcIipcIik7XG5NYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuaW5saW5lW1wiX1wiXSAgPSBzdHJvbmdfZW0oXCJlbVwiLCBcIl9cIik7XG5cblxuLy8gQnVpbGQgZGVmYXVsdCBvcmRlciBmcm9tIGluc2VydGlvbiBvcmRlci5cbk1hcmtkb3duLmJ1aWxkQmxvY2tPcmRlciA9IGZ1bmN0aW9uKGQpIHtcbiAgdmFyIG9yZCA9IFtdO1xuICBmb3IgKCB2YXIgaSBpbiBkICkge1xuICAgIGlmICggaSA9PSBcIl9fb3JkZXJfX1wiIHx8IGkgPT0gXCJfX2NhbGxfX1wiICkgY29udGludWU7XG4gICAgb3JkLnB1c2goIGkgKTtcbiAgfVxuICBkLl9fb3JkZXJfXyA9IG9yZDtcbn07XG5cbi8vIEJ1aWxkIHBhdHRlcm5zIGZvciBpbmxpbmUgbWF0Y2hlclxuTWFya2Rvd24uYnVpbGRJbmxpbmVQYXR0ZXJucyA9IGZ1bmN0aW9uKGQpIHtcbiAgdmFyIHBhdHRlcm5zID0gW107XG5cbiAgZm9yICggdmFyIGkgaW4gZCApIHtcbiAgICAvLyBfX2Zvb19fIGlzIHJlc2VydmVkIGFuZCBub3QgYSBwYXR0ZXJuXG4gICAgaWYgKCBpLm1hdGNoKCAvXl9fLipfXyQvKSApIGNvbnRpbnVlO1xuICAgIHZhciBsID0gaS5yZXBsYWNlKCAvKFtcXFxcLiorP3woKVxcW1xcXXt9XSkvZywgXCJcXFxcJDFcIiApXG4gICAgICAgICAgICAgLnJlcGxhY2UoIC9cXG4vLCBcIlxcXFxuXCIgKTtcbiAgICBwYXR0ZXJucy5wdXNoKCBpLmxlbmd0aCA9PSAxID8gbCA6IFwiKD86XCIgKyBsICsgXCIpXCIgKTtcbiAgfVxuXG4gIHBhdHRlcm5zID0gcGF0dGVybnMuam9pbihcInxcIik7XG4gIGQuX19wYXR0ZXJuc19fID0gcGF0dGVybnM7XG4gIC8vcHJpbnQoXCJwYXR0ZXJuczpcIiwgdW5ldmFsKCBwYXR0ZXJucyApICk7XG5cbiAgdmFyIGZuID0gZC5fX2NhbGxfXztcbiAgZC5fX2NhbGxfXyA9IGZ1bmN0aW9uKHRleHQsIHBhdHRlcm4pIHtcbiAgICBpZiAoIHBhdHRlcm4gIT0gdW5kZWZpbmVkICkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgdGV4dCwgcGF0dGVybik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0ZXh0LCBwYXR0ZXJucyk7XG4gICAgfVxuICB9O1xufTtcblxuTWFya2Rvd24uRGlhbGVjdEhlbHBlcnMgPSB7fTtcbk1hcmtkb3duLkRpYWxlY3RIZWxwZXJzLmlubGluZV91bnRpbF9jaGFyID0gZnVuY3Rpb24oIHRleHQsIHdhbnQgKSB7XG4gIHZhciBjb25zdW1lZCA9IDAsXG4gICAgICBub2RlcyA9IFtdO1xuXG4gIHdoaWxlICggdHJ1ZSApIHtcbiAgICBpZiAoIHRleHQuY2hhckF0KCBjb25zdW1lZCApID09IHdhbnQgKSB7XG4gICAgICAvLyBGb3VuZCB0aGUgY2hhcmFjdGVyIHdlIHdlcmUgbG9va2luZyBmb3JcbiAgICAgIGNvbnN1bWVkKys7XG4gICAgICByZXR1cm4gWyBjb25zdW1lZCwgbm9kZXMgXTtcbiAgICB9XG5cbiAgICBpZiAoIGNvbnN1bWVkID49IHRleHQubGVuZ3RoICkge1xuICAgICAgLy8gTm8gY2xvc2luZyBjaGFyIGZvdW5kLiBBYm9ydC5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciByZXMgPSB0aGlzLmRpYWxlY3QuaW5saW5lLl9fb25lRWxlbWVudF9fLmNhbGwodGhpcywgdGV4dC5zdWJzdHIoIGNvbnN1bWVkICkgKTtcbiAgICBjb25zdW1lZCArPSByZXNbIDAgXTtcbiAgICAvLyBBZGQgYW55IHJldHVybmVkIG5vZGVzLlxuICAgIG5vZGVzLnB1c2guYXBwbHkoIG5vZGVzLCByZXMuc2xpY2UoIDEgKSApO1xuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBtYWtlIHN1Yi1jbGFzc2luZyBhIGRpYWxlY3QgZWFzaWVyXG5NYXJrZG93bi5zdWJjbGFzc0RpYWxlY3QgPSBmdW5jdGlvbiggZCApIHtcbiAgZnVuY3Rpb24gQmxvY2soKSB7fVxuICBCbG9jay5wcm90b3R5cGUgPSBkLmJsb2NrO1xuICBmdW5jdGlvbiBJbmxpbmUoKSB7fVxuICBJbmxpbmUucHJvdG90eXBlID0gZC5pbmxpbmU7XG5cbiAgcmV0dXJuIHsgYmxvY2s6IG5ldyBCbG9jaygpLCBpbmxpbmU6IG5ldyBJbmxpbmUoKSB9O1xufTtcblxuTWFya2Rvd24uYnVpbGRCbG9ja09yZGVyICggTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyLmJsb2NrICk7XG5NYXJrZG93bi5idWlsZElubGluZVBhdHRlcm5zKCBNYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuaW5saW5lICk7XG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdSA9IE1hcmtkb3duLnN1YmNsYXNzRGlhbGVjdCggTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyICk7XG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5wcm9jZXNzTWV0YUhhc2ggPSBmdW5jdGlvbiBwcm9jZXNzTWV0YUhhc2goIG1ldGFfc3RyaW5nICkge1xuICB2YXIgbWV0YSA9IHNwbGl0X21ldGFfaGFzaCggbWV0YV9zdHJpbmcgKSxcbiAgICAgIGF0dHIgPSB7fTtcblxuICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpICkge1xuICAgIC8vIGlkOiAjZm9vXG4gICAgaWYgKCAvXiMvLnRlc3QoIG1ldGFbIGkgXSApICkge1xuICAgICAgYXR0ci5pZCA9IG1ldGFbIGkgXS5zdWJzdHJpbmcoIDEgKTtcbiAgICB9XG4gICAgLy8gY2xhc3M6IC5mb29cbiAgICBlbHNlIGlmICggL15cXC4vLnRlc3QoIG1ldGFbIGkgXSApICkge1xuICAgICAgLy8gaWYgY2xhc3MgYWxyZWFkeSBleGlzdHMsIGFwcGVuZCB0aGUgbmV3IG9uZVxuICAgICAgaWYgKCBhdHRyW1wiY2xhc3NcIl0gKSB7XG4gICAgICAgIGF0dHJbXCJjbGFzc1wiXSA9IGF0dHJbXCJjbGFzc1wiXSArIG1ldGFbIGkgXS5yZXBsYWNlKCAvLi8sIFwiIFwiICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYXR0cltcImNsYXNzXCJdID0gbWV0YVsgaSBdLnN1YnN0cmluZyggMSApO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBhdHRyaWJ1dGU6IGZvbz1iYXJcbiAgICBlbHNlIGlmICggL1xcPS8udGVzdCggbWV0YVsgaSBdICkgKSB7XG4gICAgICB2YXIgcyA9IG1ldGFbIGkgXS5zcGxpdCggL1xcPS8gKTtcbiAgICAgIGF0dHJbIHNbIDAgXSBdID0gc1sgMSBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhdHRyO1xufVxuXG5mdW5jdGlvbiBzcGxpdF9tZXRhX2hhc2goIG1ldGFfc3RyaW5nICkge1xuICB2YXIgbWV0YSA9IG1ldGFfc3RyaW5nLnNwbGl0KCBcIlwiICksXG4gICAgICBwYXJ0cyA9IFsgXCJcIiBdLFxuICAgICAgaW5fcXVvdGVzID0gZmFsc2U7XG5cbiAgd2hpbGUgKCBtZXRhLmxlbmd0aCApIHtcbiAgICB2YXIgbGV0dGVyID0gbWV0YS5zaGlmdCgpO1xuICAgIHN3aXRjaCAoIGxldHRlciApIHtcbiAgICAgIGNhc2UgXCIgXCIgOlxuICAgICAgICAvLyBpZiB3ZSdyZSBpbiBhIHF1b3RlZCBzZWN0aW9uLCBrZWVwIGl0XG4gICAgICAgIGlmICggaW5fcXVvdGVzICkge1xuICAgICAgICAgIHBhcnRzWyBwYXJ0cy5sZW5ndGggLSAxIF0gKz0gbGV0dGVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSBtYWtlIGEgbmV3IHBhcnRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcGFydHMucHVzaCggXCJcIiApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIidcIiA6XG4gICAgICBjYXNlICdcIicgOlxuICAgICAgICAvLyByZXZlcnNlIHRoZSBxdW90ZXMgYW5kIG1vdmUgc3RyYWlnaHQgb25cbiAgICAgICAgaW5fcXVvdGVzID0gIWluX3F1b3RlcztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiXFxcXFwiIDpcbiAgICAgICAgLy8gc2hpZnQgb2ZmIHRoZSBuZXh0IGxldHRlciB0byBiZSB1c2VkIHN0cmFpZ2h0IGF3YXkuXG4gICAgICAgIC8vIGl0IHdhcyBlc2NhcGVkIHNvIHdlJ2xsIGtlZXAgaXQgd2hhdGV2ZXIgaXQgaXNcbiAgICAgICAgbGV0dGVyID0gbWV0YS5zaGlmdCgpO1xuICAgICAgZGVmYXVsdCA6XG4gICAgICAgIHBhcnRzWyBwYXJ0cy5sZW5ndGggLSAxIF0gKz0gbGV0dGVyO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5ibG9jay5kb2N1bWVudF9tZXRhID0gZnVuY3Rpb24gZG9jdW1lbnRfbWV0YSggYmxvY2ssIG5leHQgKSB7XG4gIC8vIHdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiB0aGUgZmlyc3QgYmxvY2tcbiAgaWYgKCBibG9jay5saW5lTnVtYmVyID4gMSApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgLy8gZG9jdW1lbnRfbWV0YSBibG9ja3MgY29uc2lzdCBvZiBvbmUgb3IgbW9yZSBsaW5lcyBvZiBgS2V5OiBWYWx1ZVxcbmBcbiAgaWYgKCAhIGJsb2NrLm1hdGNoKCAvXig/Olxcdys6LipcXG4pKlxcdys6LiokLyApICkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAvLyBtYWtlIGFuIGF0dHJpYnV0ZSBub2RlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgaWYgKCAhZXh0cmFjdF9hdHRyKCB0aGlzLnRyZWUgKSApIHtcbiAgICB0aGlzLnRyZWUuc3BsaWNlKCAxLCAwLCB7fSApO1xuICB9XG5cbiAgdmFyIHBhaXJzID0gYmxvY2suc3BsaXQoIC9cXG4vICk7XG4gIGZvciAoIHAgaW4gcGFpcnMgKSB7XG4gICAgdmFyIG0gPSBwYWlyc1sgcCBdLm1hdGNoKCAvKFxcdyspOlxccyooLiopJC8gKSxcbiAgICAgICAga2V5ID0gbVsgMSBdLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIHZhbHVlID0gbVsgMiBdO1xuXG4gICAgdGhpcy50cmVlWyAxIF1bIGtleSBdID0gdmFsdWU7XG4gIH1cblxuICAvLyBkb2N1bWVudF9tZXRhIHByb2R1Y2VzIG5vIGNvbnRlbnQhXG4gIHJldHVybiBbXTtcbn07XG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5ibG9jay5ibG9ja19tZXRhID0gZnVuY3Rpb24gYmxvY2tfbWV0YSggYmxvY2ssIG5leHQgKSB7XG4gIC8vIGNoZWNrIGlmIHRoZSBsYXN0IGxpbmUgb2YgdGhlIGJsb2NrIGlzIGFuIG1ldGEgaGFzaFxuICB2YXIgbSA9IGJsb2NrLm1hdGNoKCAvKF58XFxuKSB7MCwzfVxcezpcXHMqKCg/OlxcXFxcXH18W15cXH1dKSopXFxzKlxcfSQvICk7XG4gIGlmICggIW0gKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIC8vIHByb2Nlc3MgdGhlIG1ldGEgaGFzaFxuICB2YXIgYXR0ciA9IHRoaXMuZGlhbGVjdC5wcm9jZXNzTWV0YUhhc2goIG1bIDIgXSApO1xuXG4gIHZhciBoYXNoO1xuXG4gIC8vIGlmIHdlIG1hdGNoZWQgXiB0aGVuIHdlIG5lZWQgdG8gYXBwbHkgbWV0YSB0byB0aGUgcHJldmlvdXMgYmxvY2tcbiAgaWYgKCBtWyAxIF0gPT09IFwiXCIgKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLnRyZWVbIHRoaXMudHJlZS5sZW5ndGggLSAxIF07XG4gICAgaGFzaCA9IGV4dHJhY3RfYXR0ciggbm9kZSApO1xuXG4gICAgLy8gaWYgdGhlIG5vZGUgaXMgYSBzdHJpbmcgKHJhdGhlciB0aGFuIEpzb25NTCksIGJhaWxcbiAgICBpZiAoIHR5cGVvZiBub2RlID09PSBcInN0cmluZ1wiICkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIC8vIGNyZWF0ZSB0aGUgYXR0cmlidXRlIGhhc2ggaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGlmICggIWhhc2ggKSB7XG4gICAgICBoYXNoID0ge307XG4gICAgICBub2RlLnNwbGljZSggMSwgMCwgaGFzaCApO1xuICAgIH1cblxuICAgIC8vIGFkZCB0aGUgYXR0cmlidXRlcyBpblxuICAgIGZvciAoIGEgaW4gYXR0ciApIHtcbiAgICAgIGhhc2hbIGEgXSA9IGF0dHJbIGEgXTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gbm90aGluZyBzbyB0aGUgbWV0YSBoYXNoIGlzIHJlbW92ZWRcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvLyBwdWxsIHRoZSBtZXRhIGhhc2ggb2ZmIHRoZSBibG9jayBhbmQgcHJvY2VzcyB3aGF0J3MgbGVmdFxuICB2YXIgYiA9IGJsb2NrLnJlcGxhY2UoIC9cXG4uKiQvLCBcIlwiICksXG4gICAgICByZXN1bHQgPSB0aGlzLnByb2Nlc3NCbG9jayggYiwgW10gKTtcblxuICAvLyBnZXQgb3IgbWFrZSB0aGUgYXR0cmlidXRlcyBoYXNoXG4gIGhhc2ggPSBleHRyYWN0X2F0dHIoIHJlc3VsdFsgMCBdICk7XG4gIGlmICggIWhhc2ggKSB7XG4gICAgaGFzaCA9IHt9O1xuICAgIHJlc3VsdFsgMCBdLnNwbGljZSggMSwgMCwgaGFzaCApO1xuICB9XG5cbiAgLy8gYXR0YWNoIHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBibG9ja1xuICBmb3IgKCBhIGluIGF0dHIgKSB7XG4gICAgaGFzaFsgYSBdID0gYXR0clsgYSBdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5ibG9jay5kZWZpbml0aW9uX2xpc3QgPSBmdW5jdGlvbiBkZWZpbml0aW9uX2xpc3QoIGJsb2NrLCBuZXh0ICkge1xuICAvLyBvbmUgb3IgbW9yZSB0ZXJtcyBmb2xsb3dlZCBieSBvbmUgb3IgbW9yZSBkZWZpbml0aW9ucywgaW4gYSBzaW5nbGUgYmxvY2tcbiAgdmFyIHRpZ2h0ID0gL14oKD86W15cXHM6XS4qXFxuKSspOlxccysoW1xcc1xcU10rKSQvLFxuICAgICAgbGlzdCA9IFsgXCJkbFwiIF0sXG4gICAgICBpLCBtO1xuXG4gIC8vIHNlZSBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSB0aWdodCBvciBsb29zZSBibG9ja1xuICBpZiAoICggbSA9IGJsb2NrLm1hdGNoKCB0aWdodCApICkgKSB7XG4gICAgLy8gcHVsbCBzdWJzZXF1ZW50IHRpZ2h0IERMIGJsb2NrcyBvdXQgb2YgYG5leHRgXG4gICAgdmFyIGJsb2NrcyA9IFsgYmxvY2sgXTtcbiAgICB3aGlsZSAoIG5leHQubGVuZ3RoICYmIHRpZ2h0LmV4ZWMoIG5leHRbIDAgXSApICkge1xuICAgICAgYmxvY2tzLnB1c2goIG5leHQuc2hpZnQoKSApO1xuICAgIH1cblxuICAgIGZvciAoIHZhciBiID0gMDsgYiA8IGJsb2Nrcy5sZW5ndGg7ICsrYiApIHtcbiAgICAgIHZhciBtID0gYmxvY2tzWyBiIF0ubWF0Y2goIHRpZ2h0ICksXG4gICAgICAgICAgdGVybXMgPSBtWyAxIF0ucmVwbGFjZSggL1xcbiQvLCBcIlwiICkuc3BsaXQoIC9cXG4vICksXG4gICAgICAgICAgZGVmbnMgPSBtWyAyIF0uc3BsaXQoIC9cXG46XFxzKy8gKTtcblxuICAgICAgLy8gcHJpbnQoIHVuZXZhbCggbSApICk7XG5cbiAgICAgIGZvciAoIGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyArK2kgKSB7XG4gICAgICAgIGxpc3QucHVzaCggWyBcImR0XCIsIHRlcm1zWyBpIF0gXSApO1xuICAgICAgfVxuXG4gICAgICBmb3IgKCBpID0gMDsgaSA8IGRlZm5zLmxlbmd0aDsgKytpICkge1xuICAgICAgICAvLyBydW4gaW5saW5lIHByb2Nlc3Npbmcgb3ZlciB0aGUgZGVmaW5pdGlvblxuICAgICAgICBsaXN0LnB1c2goIFsgXCJkZFwiIF0uY29uY2F0KCB0aGlzLnByb2Nlc3NJbmxpbmUoIGRlZm5zWyBpIF0ucmVwbGFjZSggLyhcXG4pXFxzKy8sIFwiJDFcIiApICkgKSApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIFsgbGlzdCBdO1xufTtcblxuLy8gc3BsaXRzIG9uIHVuZXNjYXBlZCBpbnN0YW5jZXMgb2YgQGNoLiBJZiBAY2ggaXMgbm90IGEgY2hhcmFjdGVyIHRoZSByZXN1bHRcbi8vIGNhbiBiZSB1bnByZWRpY3RhYmxlXG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5ibG9jay50YWJsZSA9IGZ1bmN0aW9uIHRhYmxlIChibG9jaywgbmV4dCkge1xuXG4gICAgdmFyIF9zcGxpdF9vbl91bmVzY2FwZWQgPSBmdW5jdGlvbihzLCBjaCkge1xuICAgICAgICBjaCA9IGNoIHx8ICdcXFxccyc7XG4gICAgICAgIGlmIChjaC5tYXRjaCgvXltcXFxcfFxcW1xcXXt9PyouK14kXSQvKSkgeyBjaCA9ICdcXFxcJyArIGNoOyB9XG4gICAgICAgIHZhciByZXMgPSBbIF0sXG4gICAgICAgICAgICByID0gbmV3IFJlZ0V4cCgnXigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCcgKyBjaCArICddKSopJyArIGNoICsgJyguKiknKSxcbiAgICAgICAgICAgIG07XG4gICAgICAgIHdoaWxlKG0gPSBzLm1hdGNoKHIpKSB7XG4gICAgICAgICAgICByZXMucHVzaChtWzFdKTtcbiAgICAgICAgICAgIHMgPSBtWzJdO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5wdXNoKHMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHZhciBsZWFkaW5nX3BpcGUgPSAvXiB7MCwzfVxcfCguKylcXG4gezAsM31cXHxcXHMqKFtcXC06XStbXFwtfCA6XSopXFxuKCg/OlxccypcXHwuKig/OlxcbnwkKSkqKSg/PVxcbnwkKS8sXG4gICAgICAgIC8vIGZpbmQgYXQgbGVhc3QgYW4gdW5lc2NhcGVkIHBpcGUgaW4gZWFjaCBsaW5lXG4gICAgICAgIG5vX2xlYWRpbmdfcGlwZSA9IC9eIHswLDN9KFxcUyg/OlxcXFwufFteXFxcXHxdKSpcXHwuKilcXG4gezAsM30oW1xcLTpdK1xccypcXHxbXFwtfCA6XSopXFxuKCg/Oig/OlxcXFwufFteXFxcXHxdKSpcXHwuKig/OlxcbnwkKSkqKSg/PVxcbnwkKS8sXG4gICAgICAgIGksIG07XG4gICAgaWYgKG0gPSBibG9jay5tYXRjaChsZWFkaW5nX3BpcGUpKSB7XG4gICAgICAgIC8vIHJlbW92ZSBsZWFkaW5nIHBpcGVzIGluIGNvbnRlbnRzXG4gICAgICAgIC8vIChoZWFkZXIgYW5kIGhvcml6b250YWwgcnVsZSBhbHJlYWR5IGhhdmUgdGhlIGxlYWRpbmcgcGlwZSBsZWZ0IG91dClcbiAgICAgICAgbVszXSA9IG1bM10ucmVwbGFjZSgvXlxccypcXHwvZ20sICcnKTtcbiAgICB9IGVsc2UgaWYgKCEgKCBtID0gYmxvY2subWF0Y2gobm9fbGVhZGluZ19waXBlKSkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgdGFibGUgPSBbIFwidGFibGVcIiwgWyBcInRoZWFkXCIsIFsgXCJ0clwiIF0gXSwgWyBcInRib2R5XCIgXSBdO1xuXG4gICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHBpcGVzLCB0aGVuIHNwbGl0IG9uIHBpcGVzXG4gICAgLy8gKG5vIGVzY2FwZWQgcGlwZXMgYXJlIGFsbG93ZWQgaW4gaG9yaXpvbnRhbCBydWxlKVxuICAgIG1bMl0gPSBtWzJdLnJlcGxhY2UoL1xcfFxccyokLywgJycpLnNwbGl0KCd8Jyk7XG5cbiAgICAvLyBwcm9jZXNzIGFsaWdubWVudFxuICAgIHZhciBodG1sX2F0dHJzID0gWyBdO1xuICAgIGZvckVhY2ggKG1bMl0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIGlmIChzLm1hdGNoKC9eXFxzKi0rOlxccyokLykpICAgICAgIGh0bWxfYXR0cnMucHVzaCh7YWxpZ246IFwicmlnaHRcIn0pO1xuICAgICAgICBlbHNlIGlmIChzLm1hdGNoKC9eXFxzKjotK1xccyokLykpICBodG1sX2F0dHJzLnB1c2goe2FsaWduOiBcImxlZnRcIn0pO1xuICAgICAgICBlbHNlIGlmIChzLm1hdGNoKC9eXFxzKjotKzpcXHMqJC8pKSBodG1sX2F0dHJzLnB1c2goe2FsaWduOiBcImNlbnRlclwifSk7XG4gICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sX2F0dHJzLnB1c2goe30pO1xuICAgIH0pO1xuXG4gICAgLy8gbm93IGZvciB0aGUgaGVhZGVyLCBhdm9pZCBlc2NhcGVkIHBpcGVzXG4gICAgbVsxXSA9IF9zcGxpdF9vbl91bmVzY2FwZWQobVsxXS5yZXBsYWNlKC9cXHxcXHMqJC8sICcnKSwgJ3wnKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbVsxXS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YWJsZVsxXVsxXS5wdXNoKFsndGgnLCBodG1sX2F0dHJzW2ldIHx8IHt9XS5jb25jYXQoXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbmxpbmUobVsxXVtpXS50cmltKCkpKSk7XG4gICAgfVxuXG4gICAgLy8gbm93IGZvciBib2R5IGNvbnRlbnRzXG4gICAgZm9yRWFjaCAobVszXS5yZXBsYWNlKC9cXHxcXHMqJC9tZywgJycpLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICB2YXIgaHRtbF9yb3cgPSBbJ3RyJ107XG4gICAgICAgIHJvdyA9IF9zcGxpdF9vbl91bmVzY2FwZWQocm93LCAnfCcpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBodG1sX3Jvdy5wdXNoKFsndGQnLCBodG1sX2F0dHJzW2ldIHx8IHt9XS5jb25jYXQodGhpcy5wcm9jZXNzSW5saW5lKHJvd1tpXS50cmltKCkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFibGVbMl0ucHVzaChodG1sX3Jvdyk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gW3RhYmxlXTtcbn1cblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmlubGluZVsgXCJ7OlwiIF0gPSBmdW5jdGlvbiBpbmxpbmVfbWV0YSggdGV4dCwgbWF0Y2hlcywgb3V0ICkge1xuICBpZiAoICFvdXQubGVuZ3RoICkge1xuICAgIHJldHVybiBbIDIsIFwiezpcIiBdO1xuICB9XG5cbiAgLy8gZ2V0IHRoZSBwcmVjZWVkaW5nIGVsZW1lbnRcbiAgdmFyIGJlZm9yZSA9IG91dFsgb3V0Lmxlbmd0aCAtIDEgXTtcblxuICBpZiAoIHR5cGVvZiBiZWZvcmUgPT09IFwic3RyaW5nXCIgKSB7XG4gICAgcmV0dXJuIFsgMiwgXCJ7OlwiIF07XG4gIH1cblxuICAvLyBtYXRjaCBhIG1ldGEgaGFzaFxuICB2YXIgbSA9IHRleHQubWF0Y2goIC9eXFx7OlxccyooKD86XFxcXFxcfXxbXlxcfV0pKilcXHMqXFx9LyApO1xuXG4gIC8vIG5vIG1hdGNoLCBmYWxzZSBhbGFybVxuICBpZiAoICFtICkge1xuICAgIHJldHVybiBbIDIsIFwiezpcIiBdO1xuICB9XG5cbiAgLy8gYXR0YWNoIHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBwcmVjZWVkaW5nIGVsZW1lbnRcbiAgdmFyIG1ldGEgPSB0aGlzLmRpYWxlY3QucHJvY2Vzc01ldGFIYXNoKCBtWyAxIF0gKSxcbiAgICAgIGF0dHIgPSBleHRyYWN0X2F0dHIoIGJlZm9yZSApO1xuXG4gIGlmICggIWF0dHIgKSB7XG4gICAgYXR0ciA9IHt9O1xuICAgIGJlZm9yZS5zcGxpY2UoIDEsIDAsIGF0dHIgKTtcbiAgfVxuXG4gIGZvciAoIHZhciBrIGluIG1ldGEgKSB7XG4gICAgYXR0clsgayBdID0gbWV0YVsgayBdO1xuICB9XG5cbiAgLy8gY3V0IG91dCB0aGUgc3RyaW5nIGFuZCByZXBsYWNlIGl0IHdpdGggbm90aGluZ1xuICByZXR1cm4gWyBtWyAwIF0ubGVuZ3RoLCBcIlwiIF07XG59O1xuXG5NYXJrZG93bi5kaWFsZWN0cy5NYXJ1a3UuaW5saW5lLl9fZXNjYXBlX18gPSAvXlxcXFxbXFxcXGBcXCpfe31cXFtcXF0oKSNcXCsuIVxcLXw6XS87XG5cbk1hcmtkb3duLmJ1aWxkQmxvY2tPcmRlciAoIE1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5ibG9jayApO1xuTWFya2Rvd24uYnVpbGRJbmxpbmVQYXR0ZXJucyggTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmlubGluZSApO1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PSBcIltvYmplY3QgQXJyYXldXCI7XG59O1xuXG52YXIgZm9yRWFjaDtcbi8vIERvbid0IG1lc3Mgd2l0aCBBcnJheS5wcm90b3R5cGUuIEl0cyBub3QgZnJpZW5kbHlcbmlmICggQXJyYXkucHJvdG90eXBlLmZvckVhY2ggKSB7XG4gIGZvckVhY2ggPSBmdW5jdGlvbiggYXJyLCBjYiwgdGhpc3AgKSB7XG4gICAgcmV0dXJuIGFyci5mb3JFYWNoKCBjYiwgdGhpc3AgKTtcbiAgfTtcbn1cbmVsc2Uge1xuICBmb3JFYWNoID0gZnVuY3Rpb24oYXJyLCBjYiwgdGhpc3ApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgY2IuY2FsbCh0aGlzcCB8fCBhcnIsIGFycltpXSwgaSwgYXJyKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGlzRW1wdHkgPSBmdW5jdGlvbiggb2JqICkge1xuICBmb3IgKCB2YXIga2V5IGluIG9iaiApIHtcbiAgICBpZiAoIGhhc093blByb3BlcnR5LmNhbGwoIG9iaiwga2V5ICkgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RfYXR0cigganNvbm1sICkge1xuICByZXR1cm4gaXNBcnJheShqc29ubWwpXG4gICAgICAmJiBqc29ubWwubGVuZ3RoID4gMVxuICAgICAgJiYgdHlwZW9mIGpzb25tbFsgMSBdID09PSBcIm9iamVjdFwiXG4gICAgICAmJiAhKCBpc0FycmF5KGpzb25tbFsgMSBdKSApXG4gICAgICA/IGpzb25tbFsgMSBdXG4gICAgICA6IHVuZGVmaW5lZDtcbn1cblxuXG5cbi8qKlxuICogIHJlbmRlckpzb25NTCgganNvbm1sWywgb3B0aW9uc10gKSAtPiBTdHJpbmdcbiAqICAtIGpzb25tbCAoQXJyYXkpOiBKc29uTUwgYXJyYXkgdG8gcmVuZGVyIHRvIFhNTFxuICogIC0gb3B0aW9ucyAoT2JqZWN0KTogb3B0aW9uc1xuICpcbiAqICBDb252ZXJ0cyB0aGUgZ2l2ZW4gSnNvbk1MIGludG8gd2VsbC1mb3JtZWQgWE1MLlxuICpcbiAqICBUaGUgb3B0aW9ucyBjdXJyZW50bHkgdW5kZXJzdG9vZCBhcmU6XG4gKlxuICogIC0gcm9vdCAoQm9vbGVhbik6IHdldGhlciBvciBub3QgdGhlIHJvb3Qgbm9kZSBzaG91bGQgYmUgaW5jbHVkZWQgaW4gdGhlXG4gKiAgICBvdXRwdXQsIG9yIGp1c3QgaXRzIGNoaWxkcmVuLiBUaGUgZGVmYXVsdCBgZmFsc2VgIGlzIHRvIG5vdCBpbmNsdWRlIHRoZVxuICogICAgcm9vdCBpdHNlbGYuXG4gKi9cbmV4cG9zZS5yZW5kZXJKc29uTUwgPSBmdW5jdGlvbigganNvbm1sLCBvcHRpb25zICkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgLy8gaW5jbHVkZSB0aGUgcm9vdCBlbGVtZW50IGluIHRoZSByZW5kZXJlZCBvdXRwdXQ/XG4gIG9wdGlvbnMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBmYWxzZTtcblxuICB2YXIgY29udGVudCA9IFtdO1xuXG4gIGlmICggb3B0aW9ucy5yb290ICkge1xuICAgIGNvbnRlbnQucHVzaCggcmVuZGVyX3RyZWUoIGpzb25tbCApICk7XG4gIH1cbiAgZWxzZSB7XG4gICAganNvbm1sLnNoaWZ0KCk7IC8vIGdldCByaWQgb2YgdGhlIHRhZ1xuICAgIGlmICgganNvbm1sLmxlbmd0aCAmJiB0eXBlb2YganNvbm1sWyAwIF0gPT09IFwib2JqZWN0XCIgJiYgISgganNvbm1sWyAwIF0gaW5zdGFuY2VvZiBBcnJheSApICkge1xuICAgICAganNvbm1sLnNoaWZ0KCk7IC8vIGdldCByaWQgb2YgdGhlIGF0dHJpYnV0ZXNcbiAgICB9XG5cbiAgICB3aGlsZSAoIGpzb25tbC5sZW5ndGggKSB7XG4gICAgICBjb250ZW50LnB1c2goIHJlbmRlcl90cmVlKCBqc29ubWwuc2hpZnQoKSApICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnQuam9pbiggXCJcXG5cXG5cIiApO1xufTtcblxuZnVuY3Rpb24gZXNjYXBlSFRNTCggdGV4dCApIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSggLyYvZywgXCImYW1wO1wiIClcbiAgICAgICAgICAgICAucmVwbGFjZSggLzwvZywgXCImbHQ7XCIgKVxuICAgICAgICAgICAgIC5yZXBsYWNlKCAvPi9nLCBcIiZndDtcIiApXG4gICAgICAgICAgICAgLnJlcGxhY2UoIC9cIi9nLCBcIiZxdW90O1wiIClcbiAgICAgICAgICAgICAucmVwbGFjZSggLycvZywgXCImIzM5O1wiICk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcl90cmVlKCBqc29ubWwgKSB7XG4gIC8vIGJhc2ljIGNhc2VcbiAgaWYgKCB0eXBlb2YganNvbm1sID09PSBcInN0cmluZ1wiICkge1xuICAgIHJldHVybiBlc2NhcGVIVE1MKCBqc29ubWwgKTtcbiAgfVxuXG4gIHZhciB0YWcgPSBqc29ubWwuc2hpZnQoKSxcbiAgICAgIGF0dHJpYnV0ZXMgPSB7fSxcbiAgICAgIGNvbnRlbnQgPSBbXTtcblxuICBpZiAoIGpzb25tbC5sZW5ndGggJiYgdHlwZW9mIGpzb25tbFsgMCBdID09PSBcIm9iamVjdFwiICYmICEoIGpzb25tbFsgMCBdIGluc3RhbmNlb2YgQXJyYXkgKSApIHtcbiAgICBhdHRyaWJ1dGVzID0ganNvbm1sLnNoaWZ0KCk7XG4gIH1cblxuICB3aGlsZSAoIGpzb25tbC5sZW5ndGggKSB7XG4gICAgY29udGVudC5wdXNoKCByZW5kZXJfdHJlZSgganNvbm1sLnNoaWZ0KCkgKSApO1xuICB9XG5cbiAgdmFyIHRhZ19hdHRycyA9IFwiXCI7XG4gIGZvciAoIHZhciBhIGluIGF0dHJpYnV0ZXMgKSB7XG4gICAgdGFnX2F0dHJzICs9IFwiIFwiICsgYSArICc9XCInICsgZXNjYXBlSFRNTCggYXR0cmlidXRlc1sgYSBdICkgKyAnXCInO1xuICB9XG5cbiAgLy8gYmUgY2FyZWZ1bCBhYm91dCBhZGRpbmcgd2hpdGVzcGFjZSBoZXJlIGZvciBpbmxpbmUgZWxlbWVudHNcbiAgaWYgKCB0YWcgPT0gXCJpbWdcIiB8fCB0YWcgPT0gXCJiclwiIHx8IHRhZyA9PSBcImhyXCIgKSB7XG4gICAgcmV0dXJuIFwiPFwiKyB0YWcgKyB0YWdfYXR0cnMgKyBcIi8+XCI7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIFwiPFwiKyB0YWcgKyB0YWdfYXR0cnMgKyBcIj5cIiArIGNvbnRlbnQuam9pbiggXCJcIiApICsgXCI8L1wiICsgdGFnICsgXCI+XCI7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydF90cmVlX3RvX2h0bWwoIHRyZWUsIHJlZmVyZW5jZXMsIG9wdGlvbnMgKSB7XG4gIHZhciBpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBzaGFsbG93IGNsb25lXG4gIHZhciBqc29ubWwgPSB0cmVlLnNsaWNlKCAwICk7XG5cbiAgaWYgKCB0eXBlb2Ygb3B0aW9ucy5wcmVwcm9jZXNzVHJlZU5vZGUgPT09IFwiZnVuY3Rpb25cIiApIHtcbiAgICAgIGpzb25tbCA9IG9wdGlvbnMucHJlcHJvY2Vzc1RyZWVOb2RlKGpzb25tbCwgcmVmZXJlbmNlcyk7XG4gIH1cblxuICAvLyBDbG9uZSBhdHRyaWJ1dGVzIGlmIHRoZXkgZXhpc3RcbiAgdmFyIGF0dHJzID0gZXh0cmFjdF9hdHRyKCBqc29ubWwgKTtcbiAgaWYgKCBhdHRycyApIHtcbiAgICBqc29ubWxbIDEgXSA9IHt9O1xuICAgIGZvciAoIGkgaW4gYXR0cnMgKSB7XG4gICAgICBqc29ubWxbIDEgXVsgaSBdID0gYXR0cnNbIGkgXTtcbiAgICB9XG4gICAgYXR0cnMgPSBqc29ubWxbIDEgXTtcbiAgfVxuXG4gIC8vIGJhc2ljIGNhc2VcbiAgaWYgKCB0eXBlb2YganNvbm1sID09PSBcInN0cmluZ1wiICkge1xuICAgIHJldHVybiBqc29ubWw7XG4gIH1cblxuICAvLyBjb252ZXJ0IHRoaXMgbm9kZVxuICBzd2l0Y2ggKCBqc29ubWxbIDAgXSApIHtcbiAgICBjYXNlIFwiaGVhZGVyXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiaFwiICsganNvbm1sWyAxIF0ubGV2ZWw7XG4gICAgICBkZWxldGUganNvbm1sWyAxIF0ubGV2ZWw7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYnVsbGV0bGlzdFwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcInVsXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibnVtYmVybGlzdFwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcIm9sXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibGlzdGl0ZW1cIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJsaVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInBhcmFcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJwXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibWFya2Rvd25cIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJodG1sXCI7XG4gICAgICBpZiAoIGF0dHJzICkgZGVsZXRlIGF0dHJzLnJlZmVyZW5jZXM7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY29kZV9ibG9ja1wiOlxuICAgICAganNvbm1sWyAwIF0gPSBcInByZVwiO1xuICAgICAgaSA9IGF0dHJzID8gMiA6IDE7XG4gICAgICB2YXIgY29kZSA9IFsgXCJjb2RlXCIgXTtcbiAgICAgIGNvZGUucHVzaC5hcHBseSggY29kZSwganNvbm1sLnNwbGljZSggaSwganNvbm1sLmxlbmd0aCAtIGkgKSApO1xuICAgICAganNvbm1sWyBpIF0gPSBjb2RlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImlubGluZWNvZGVcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJjb2RlXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW1nXCI6XG4gICAgICBqc29ubWxbIDEgXS5zcmMgPSBqc29ubWxbIDEgXS5ocmVmO1xuICAgICAgZGVsZXRlIGpzb25tbFsgMSBdLmhyZWY7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibGluZWJyZWFrXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiYnJcIjtcbiAgICBicmVhaztcbiAgICBjYXNlIFwibGlua1wiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImFcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsaW5rX3JlZlwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImFcIjtcblxuICAgICAgLy8gZ3JhYiB0aGlzIHJlZiBhbmQgY2xlYW4gdXAgdGhlIGF0dHJpYnV0ZSBub2RlXG4gICAgICB2YXIgcmVmID0gcmVmZXJlbmNlc1sgYXR0cnMucmVmIF07XG5cbiAgICAgIC8vIGlmIHRoZSByZWZlcmVuY2UgZXhpc3RzLCBtYWtlIHRoZSBsaW5rXG4gICAgICBpZiAoIHJlZiApIHtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnJlZjtcblxuICAgICAgICAvLyBhZGQgaW4gdGhlIGhyZWYgYW5kIHRpdGxlLCBpZiBwcmVzZW50XG4gICAgICAgIGF0dHJzLmhyZWYgPSByZWYuaHJlZjtcbiAgICAgICAgaWYgKCByZWYudGl0bGUgKSB7XG4gICAgICAgICAgYXR0cnMudGl0bGUgPSByZWYudGl0bGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgcmlkIG9mIHRoZSB1bm5lZWRlZCBvcmlnaW5hbCB0ZXh0XG4gICAgICAgIGRlbGV0ZSBhdHRycy5vcmlnaW5hbDtcbiAgICAgIH1cbiAgICAgIC8vIHRoZSByZWZlcmVuY2UgZG9lc24ndCBleGlzdCwgc28gcmV2ZXJ0IHRvIHBsYWluIHRleHRcbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXR0cnMub3JpZ2luYWw7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW1nX3JlZlwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImltZ1wiO1xuXG4gICAgICAvLyBncmFiIHRoaXMgcmVmIGFuZCBjbGVhbiB1cCB0aGUgYXR0cmlidXRlIG5vZGVcbiAgICAgIHZhciByZWYgPSByZWZlcmVuY2VzWyBhdHRycy5yZWYgXTtcblxuICAgICAgLy8gaWYgdGhlIHJlZmVyZW5jZSBleGlzdHMsIG1ha2UgdGhlIGxpbmtcbiAgICAgIGlmICggcmVmICkge1xuICAgICAgICBkZWxldGUgYXR0cnMucmVmO1xuXG4gICAgICAgIC8vIGFkZCBpbiB0aGUgaHJlZiBhbmQgdGl0bGUsIGlmIHByZXNlbnRcbiAgICAgICAgYXR0cnMuc3JjID0gcmVmLmhyZWY7XG4gICAgICAgIGlmICggcmVmLnRpdGxlICkge1xuICAgICAgICAgIGF0dHJzLnRpdGxlID0gcmVmLnRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHJpZCBvZiB0aGUgdW5uZWVkZWQgb3JpZ2luYWwgdGV4dFxuICAgICAgICBkZWxldGUgYXR0cnMub3JpZ2luYWw7XG4gICAgICB9XG4gICAgICAvLyB0aGUgcmVmZXJlbmNlIGRvZXNuJ3QgZXhpc3QsIHNvIHJldmVydCB0byBwbGFpbiB0ZXh0XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzLm9yaWdpbmFsO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cblxuICAvLyBjb252ZXJ0IGFsbCB0aGUgY2hpbGRyZW5cbiAgaSA9IDE7XG5cbiAgLy8gZGVhbCB3aXRoIHRoZSBhdHRyaWJ1dGUgbm9kZSwgaWYgaXQgZXhpc3RzXG4gIGlmICggYXR0cnMgKSB7XG4gICAgLy8gaWYgdGhlcmUgYXJlIGtleXMsIHNraXAgb3ZlciBpdFxuICAgIGZvciAoIHZhciBrZXkgaW4ganNvbm1sWyAxIF0gKSB7XG4gICAgICAgIGkgPSAyO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gaWYgdGhlcmUgYXJlbid0LCByZW1vdmUgaXRcbiAgICBpZiAoIGkgPT09IDEgKSB7XG4gICAgICBqc29ubWwuc3BsaWNlKCBpLCAxICk7XG4gICAgfVxuICB9XG5cbiAgZm9yICggOyBpIDwganNvbm1sLmxlbmd0aDsgKytpICkge1xuICAgIGpzb25tbFsgaSBdID0gY29udmVydF90cmVlX3RvX2h0bWwoIGpzb25tbFsgaSBdLCByZWZlcmVuY2VzLCBvcHRpb25zICk7XG4gIH1cblxuICByZXR1cm4ganNvbm1sO1xufVxuXG5cbi8vIG1lcmdlcyBhZGphY2VudCB0ZXh0IG5vZGVzIGludG8gYSBzaW5nbGUgbm9kZVxuZnVuY3Rpb24gbWVyZ2VfdGV4dF9ub2RlcygganNvbm1sICkge1xuICAvLyBza2lwIHRoZSB0YWcgbmFtZSBhbmQgYXR0cmlidXRlIGhhc2hcbiAgdmFyIGkgPSBleHRyYWN0X2F0dHIoIGpzb25tbCApID8gMiA6IDE7XG5cbiAgd2hpbGUgKCBpIDwganNvbm1sLmxlbmd0aCApIHtcbiAgICAvLyBpZiBpdCdzIGEgc3RyaW5nIGNoZWNrIHRoZSBuZXh0IGl0ZW0gdG9vXG4gICAgaWYgKCB0eXBlb2YganNvbm1sWyBpIF0gPT09IFwic3RyaW5nXCIgKSB7XG4gICAgICBpZiAoIGkgKyAxIDwganNvbm1sLmxlbmd0aCAmJiB0eXBlb2YganNvbm1sWyBpICsgMSBdID09PSBcInN0cmluZ1wiICkge1xuICAgICAgICAvLyBtZXJnZSB0aGUgc2Vjb25kIHN0cmluZyBpbnRvIHRoZSBmaXJzdCBhbmQgcmVtb3ZlIGl0XG4gICAgICAgIGpzb25tbFsgaSBdICs9IGpzb25tbC5zcGxpY2UoIGkgKyAxLCAxIClbIDAgXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICArK2k7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIGl0J3Mgbm90IGEgc3RyaW5nIHJlY3Vyc2VcbiAgICBlbHNlIHtcbiAgICAgIG1lcmdlX3RleHRfbm9kZXMoIGpzb25tbFsgaSBdICk7XG4gICAgICArK2k7XG4gICAgfVxuICB9XG59XG5cbn0gKSggKGZ1bmN0aW9uKCkge1xuICBpZiAoIHR5cGVvZiBleHBvcnRzID09PSBcInVuZGVmaW5lZFwiICkge1xuICAgIHdpbmRvdy5tYXJrZG93biA9IHt9O1xuICAgIHJldHVybiB3aW5kb3cubWFya2Rvd247XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH1cbn0gKSgpICk7XG4iXSwic291cmNlUm9vdCI6IiJ9